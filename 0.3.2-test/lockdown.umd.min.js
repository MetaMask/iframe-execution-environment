"use strict";(()=>{const e=[({imports:e,liveVar:t,onceVar:r})=>{e([]);const o=globalThis;r.universalThis(o);const{Array:n,Date:s,Float32Array:a,JSON:i,Map:c,Math:l,Object:p,Promise:m,Proxy:u,Reflect:y,RegExp:f,Set:g,String:d,WeakMap:P,WeakSet:E}=globalThis;r.Array(n),r.Date(s),r.Float32Array(a),r.JSON(i),r.Map(c),r.Math(l),r.Object(p),r.Promise(m),r.Proxy(u),r.Reflect(y),r.FERAL_REG_EXP(f),r.Set(g),r.String(d),r.WeakMap(P),r.WeakSet(E);const{Error:w,RangeError:b,ReferenceError:h,SyntaxError:S,TypeError:v}=globalThis;r.FERAL_ERROR(w),r.RangeError(b),r.ReferenceError(h),r.SyntaxError(S),r.TypeError(v);const{assign:k,create:j,defineProperties:A,entries:T,freeze:x,getOwnPropertyDescriptor:I,getOwnPropertyDescriptors:O,getOwnPropertyNames:C,getPrototypeOf:_,is:F,isExtensible:V,keys:N,prototype:M,seal:R,setPrototypeOf:$,values:L}=p;r.assign(k),r.create(j),r.defineProperties(A),r.entries(T),r.freeze(x),r.getOwnPropertyDescriptor(I),r.getOwnPropertyDescriptors(O),r.getOwnPropertyNames(C),r.getPrototypeOf(_),r.is(F),r.isExtensible(V),r.keys(N),r.objectPrototype(M),r.seal(R),r.setPrototypeOf($),r.values(L);const{species:G,toStringTag:D,iterator:U,matchAll:H}=Symbol;r.speciesSymbol(G),r.toStringTagSymbol(D),r.iteratorSymbol(U),r.matchAllSymbol(H);const{stringify:W}=i;r.stringifyJson(W);const z=p.fromEntries||(e=>{const t={};for(const[r,o]of e)t[r]=o;return t});r.fromEntries(z);const{defineProperty:B}=p;r.defineProperty(((e,t,r)=>{const o=B(e,t,r);if(o!==e)throw v(`Please report that the original defineProperty silently failed to set ${W(d(t))}. (SES_DEFINE_PROPERTY_FAILED_SILENTLY)`);return o}));const{apply:J,construct:K,get:q,getOwnPropertyDescriptor:Y,has:X,isExtensible:Z,ownKeys:Q,preventExtensions:ee,set:te}=y;r.apply(J),r.construct(K),r.reflectGet(q),r.reflectGetOwnPropertyDescriptor(Y),r.reflectHas(X),r.reflectIsExtensible(Z),r.ownKeys(Q),r.reflectPreventExtensions(ee),r.reflectSet(te);const{isArray:re,prototype:oe}=n;r.isArray(re),r.arrayPrototype(oe);const{prototype:ne}=c;r.mapPrototype(ne);const{revocable:se}=u;r.proxyRevocable(se);const{prototype:ae}=RegExp;r.regexpPrototype(ae);const{prototype:ie}=g;r.setPrototype(ie);const{prototype:ce}=d;r.stringPrototype(ce);const{prototype:le}=P;r.weakmapPrototype(le);const{prototype:pe}=E;r.weaksetPrototype(pe);const{prototype:me}=Function;r.functionPrototype(me);const{prototype:ue}=m;r.promisePrototype(ue);const ye=e=>(t,...r)=>J(e,t,r);r.uncurryThis(ye);const fe=ye(M.hasOwnProperty);r.objectHasOwnProperty(fe);const ge=ye(oe.filter);r.arrayFilter(ge);const de=ye(oe.forEach);r.arrayForEach(de);const Pe=ye(oe.includes);r.arrayIncludes(Pe);const Ee=ye(oe.join);r.arrayJoin(Ee);const we=ye(oe.map);r.arrayMap(we);const be=ye(oe.pop);r.arrayPop(be);const he=ye(oe.push);r.arrayPush(he);const Se=ye(oe.slice);r.arraySlice(Se);const ve=ye(oe.some);r.arraySome(ve);const ke=ye(oe.sort);r.arraySort(ke);const je=ye(oe[U]);r.iterateArray(je);const Ae=ye(ne.set);r.mapSet(Ae);const Te=ye(ne.get);r.mapGet(Te);const xe=ye(ne.has);r.mapHas(xe);const Ie=ye(ne[U]);r.iterateMap(Ie);const Oe=ye(ie.add);r.setAdd(Oe);const Ce=ye(ie.forEach);r.setForEach(Ce);const _e=ye(ie.has);r.setHas(_e);const Fe=ye(ie[U]);r.iterateSet(Fe);const Ve=ye(ae.test);r.regexpTest(Ve);const Ne=ye(ae.exec);r.regexpExec(Ne);const Me=ye(ae[H]);r.matchAllRegExp(Me);const Re=ye(ce.endsWith);r.stringEndsWith(Re);const $e=ye(ce.includes);r.stringIncludes($e);const Le=ye(ce.indexOf);r.stringIndexOf(Le);const Ge=ye(ce.match);r.stringMatch(Ge);const De=ye(ce.replace);r.stringReplace(De);const Ue=ye(ce.search);r.stringSearch(Ue);const He=ye(ce.slice);r.stringSlice(He);const We=ye(ce.split);r.stringSplit(We);const ze=ye(ce.startsWith);r.stringStartsWith(ze);const Be=ye(ce[U]);r.iterateString(Be);const Je=ye(le.delete);r.weakmapDelete(Je);const Ke=ye(le.get);r.weakmapGet(Ke);const qe=ye(le.has);r.weakmapHas(qe);const Ye=ye(le.set);r.weakmapSet(Ye);const Xe=ye(pe.add);r.weaksetAdd(Xe);const Ze=ye(pe.get);r.weaksetGet(Ze);const Qe=ye(pe.has);r.weaksetHas(Qe);const et=ye(me.toString);r.functionToString(et);const{all:tt}=m;r.promiseAll((e=>J(tt,m,[e])));const rt=ye(ue.catch);r.promiseCatch(rt);const ot=ye(ue.then);r.promiseThen(ot),r.getConstructorOf((e=>q(_(e),"constructor")));const nt=x(j(null));r.immutableObject(nt),r.isObject((e=>p(e)===e)),r.isError((e=>e instanceof w));const st=eval;r.FERAL_EVAL(st);const at=Function;r.FERAL_FUNCTION(at)},({imports:e,liveVar:t,onceVar:r})=>{e([])},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g;e([["../commons.js",[["Set",[e=>o=e]],["String",[e=>n=e]],["arrayJoin",[e=>s=e]],["arraySlice",[e=>a=e]],["freeze",[e=>i=e]],["is",[e=>c=e]],["isError",[e=>l=e]],["setAdd",[e=>p=e]],["setHas",[e=>m=e]],["stringIncludes",[e=>u=e]],["stringStartsWith",[e=>y=e]],["stringifyJson",[e=>f=e]],["toStringTagSymbol",[e=>g=e]]]]]),r.enJoin(((e,t)=>{if(0===e.length)return"(none)";if(1===e.length)return e[0];if(2===e.length){const[r,o]=e;return`${r} ${t} ${o}`}return`${s(a(e,0,-1),", ")}, ${t} ${e[e.length-1]}`}));const d=e=>(e=""+e).length>=1&&u("aeiouAEIOU",e[0])?"an "+e:"a "+e;r.an(d),i(d);const P=(e,t)=>{const r=new o,s=(e,t)=>{switch(typeof t){case"object":return null===t?null:m(r,t)?"[Seen]":(p(r,t),l(t)?`[${t.name}: ${t.message}]`:g in t?`[${t[g]}]`:t);case"function":return`[Function ${t.name||"<anon>"}]`;case"string":return y(t,"[")?`[${t}]`:t;case"undefined":case"symbol":return`[${n(t)}]`;case"bigint":return`[${t}n]`;case"number":return c(t,NaN)?"[NaN]":t===1/0?"[Infinity]":t===-1/0?"[-Infinity]":t;default:return t}};try{return f(e,s,t)}catch(e){return"[Something that failed to stringify]"}};r.bestEffortStringify(P),i(P)},({imports:e,liveVar:t,onceVar:r})=>{e([])},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,P,E,w,b,h,S,v,k;e([["../commons.js",[["RangeError",[e=>o=e]],["TypeError",[e=>n=e]],["WeakMap",[e=>s=e]],["arrayJoin",[e=>a=e]],["arrayMap",[e=>i=e]],["arrayPop",[e=>c=e]],["arrayPush",[e=>l=e]],["assign",[e=>p=e]],["freeze",[e=>m=e]],["globalThis",[e=>u=e]],["is",[e=>y=e]],["isError",[e=>f=e]],["stringIndexOf",[e=>g=e]],["stringReplace",[e=>d=e]],["stringSlice",[e=>P=e]],["stringStartsWith",[e=>E=e]],["weakmapDelete",[e=>w=e]],["weakmapGet",[e=>b=e]],["weakmapHas",[e=>h=e]],["weakmapSet",[e=>S=e]]]],["./stringify-utils.js",[["an",[e=>v=e]],["bestEffortStringify",[e=>k=e]]]],["./types.js",[]],["./internal-types.js",[]]]);const j=new s,A=(e,t)=>{const r=m({toString:m((()=>k(e,t)))});return S(j,r,e),r};m(A);const T=new s,x=({template:e,args:t})=>{const r=[e[0]];for(let o=0;o<t.length;o+=1){const n=t[o];let s;s=h(j,n)?""+n:f(n)?`(${v(n.name)})`:`(${v(typeof n)})`,l(r,s,e[o+1])}return a(r,"")},I=m({toString(){const e=b(T,this);return void 0===e?"[Not a DetailsToken]":x(e)}});m(I.toString);const O=(e,...t)=>{const r=m({__proto__:I});return S(T,r,{template:e,args:t}),r};m(O);const C=(e,...t)=>(t=i(t,(e=>h(j,e)?e:A(e))),O(e,...t));r.unredactedDetails(C),m(C);const _=({template:e,args:t})=>{const r=[e[0]];for(let o=0;o<t.length;o+=1){let n=t[o];h(j,n)&&(n=b(j,n));const s=d(c(r)||"",/ $/,"");""!==s&&l(r,s);const a=d(e[o+1],/^ /,"");l(r,n,a)}return""===r[r.length-1]&&c(r),r},F=new s;let V=0;const N=new s,M=(e,t=e.name)=>{let r=b(N,e);return void 0!==r||(V+=1,r=`${t}#${V}`,S(N,e,r)),r},R=(e=O`Assert failed`,t=u.Error,{errorName:r}={})=>{"string"==typeof e&&(e=O([e]));const o=b(T,e);if(void 0===o)throw new n("unrecognized details "+A(e));const s=new t(x(o));return S(F,s,_(o)),void 0!==r&&M(s,r),s};m(R);const $=new s,L=new s,G=(e,t)=>{"string"==typeof t&&(t=O([t]));const r=b(T,t);if(void 0===r)throw new n("unrecognized details "+A(t));const o=_(r),s=b(L,e);if(void 0!==s)for(const t of s)t(e,o);else{const t=b($,e);void 0!==t?l(t,o):S($,e,[o])}};m(G);const D={getStackString:u.getStackString||(e=>{if(!("stack"in e))return"";const t=""+e.stack,r=g(t,"\n");return E(t," ")||-1===r?t:P(t,r+1)}),tagError:e=>M(e),resetErrorTagNum:()=>{V=0},getMessageLogArgs:e=>b(F,e),takeMessageLogArgs:e=>{const t=b(F,e);return w(F,e),t},takeNoteLogArgsArray:(e,t)=>{const r=b($,e);if(w($,e),void 0!==t){const r=b(L,e);r?l(r,t):S(L,e,[t])}return r||[]}};r.loggedErrorHandler(D),m(D);const U=(e,t=!1)=>{const r=t?C:O,s=(t=r`Assert failed`,o=u.Error)=>{const n=R(t,o);throw void 0!==e&&e(n),n};function a(e,t=r`Check failed`,o=u.Error){if(!e)throw s(t,o)}m(s);const i=(e,t,n=r`Expected ${e} is same as ${t}`,s=o)=>{a(y(e,t),n,s)};m(i);const c=(e,t,o)=>{a("string"==typeof t,r`${A(t)} must be a string`),void 0===o&&(o=r([""," must be "+v(t)],e)),i(typeof e,t,o,n)};m(c);const l=p(a,{error:R,fail:s,equal:i,typeof:c,string:(e,t)=>c(e,"string",t),note:G,details:r,quote:A,makeAssert:U});return m(l)};r.makeAssert(U),m(U);const H=U();r.assert(H)},({imports:e,liveVar:t,onceVar:r})=>{let o,n;e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["arrayJoin",[e=>n=e]]]]]),r.makeEvaluateFactory(((e=[])=>{const t=function(e){return 0===e.length?"":`const {${n(e,",")}} = this;`}(e);return o(`\n    with (this) {\n      ${t}\n      return function() {\n        'use strict';\n        return eval(arguments[0]);\n      };\n    }\n  `)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c;e([["./commons.js",[["arrayFilter",[e=>o=e]],["arrayIncludes",[e=>n=e]],["getOwnPropertyDescriptor",[e=>s=e]],["getOwnPropertyNames",[e=>a=e]],["objectHasOwnProperty",[e=>i=e]],["regexpTest",[e=>c=e]]]]]);const l=["await","break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield","let","static","enum","implements","package","protected","interface","private","public","await","null","true","false","this","arguments"],p=/^[a-zA-Z_$][\w$]*$/,m=e=>"eval"!==e&&!n(l,e)&&c(p,e);function u(e,t){const r=s(e,t);return!1===r.configurable&&!1===r.writable&&i(r,"value")}r.isValidIdentifierName(m),r.getScopeConstants(((e,t={})=>{const r=a(e),s=a(t),i=o(s,(e=>m(e)&&u(t,e)));return[...o(r,(t=>!n(s,t)&&m(t)&&u(e,t))),...i]}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d;e([["./commons.js",[["FERAL_EVAL",[e=>o=e]],["Proxy",[e=>n=e]],["String",[e=>s=e]],["TypeError",[e=>a=e]],["create",[e=>i=e]],["freeze",[e=>c=e]],["getOwnPropertyDescriptor",[e=>l=e]],["getOwnPropertyDescriptors",[e=>p=e]],["globalThis",[e=>m=e]],["immutableObject",[e=>u=e]],["objectHasOwnProperty",[e=>y=e]],["reflectGet",[e=>f=e]],["reflectSet",[e=>g=e]]]],["./error/assert.js",[["assert",[e=>d=e]]]]]);const{details:P,quote:E}=d,w=new n(u,c({get(e,t){d.fail(P`Please report unexpected scope handler trap: ${E(s(t))}`)}}));r.createScopeHandler(((e,t={},{sloppyGlobalsMode:r=!1}={})=>{let n=!1;return{admitOneUnsafeEvalNext:()=>{n=!0},resetOneUnsafeEvalNext:()=>{const e=n;return n=!1,e},scopeHandler:c(i(w,p({get(r,s){if("symbol"!=typeof s)return"eval"===s&&!0===n?(n=!1,o):s in t?f(t,s,e):f(e,s)},set(r,o,n){if(o in t){const r=l(t,o);return y(r,"value")?g(t,o,n):g(t,o,n,e)}return g(e,o,n)},has:(o,s)=>r||n&&"eval"===s||s in t||s in e||s in m,getPrototypeOf:()=>null,getOwnPropertyDescriptor(e,t){const r=E(s(t));console.warn("getOwnPropertyDescriptor trap on scopeHandler for "+r,(new a).stack)}})))}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s;e([["./commons.js",[["FERAL_REG_EXP",[e=>o=e]],["regexpExec",[e=>n=e]],["stringSlice",[e=>s=e]]]]]);const a=new o("(?:\\s*//\\s*[@#]\\s*([a-zA-Z][a-zA-Z0-9]*)\\s*=\\s*([^\\s\\*]*)|/\\*\\s*[@#]\\s*([a-zA-Z][a-zA-Z0-9]*)\\s*=\\s*([^\\s\\*]*)\\s*\\*/)\\s*$");r.getSourceURL((e=>{let t="<unknown>";for(;e.length>0;){const r=n(a,e);if(null===r)break;e=s(e,0,e.length-r[0].length),"sourceURL"===r[3]?t=r[4]:"sourceURL"===r[1]&&(t=r[2])}return t}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l;function p(e,t){const r=a(e,t);if(r<0)return-1;const o="\n"===e[r]?1:0;return c(i(e,0,r),"\n").length+o}e([["./commons.js",[["FERAL_REG_EXP",[e=>o=e]],["SyntaxError",[e=>n=e]],["stringReplace",[e=>s=e]],["stringSearch",[e=>a=e]],["stringSlice",[e=>i=e]],["stringSplit",[e=>c=e]]]],["./get-source-url.js",[["getSourceURL",[e=>l=e]]]]]);const m=new o("(?:\x3c!--|--\x3e)","g"),u=e=>{const t=p(e,m);if(t<0)return e;const r=l(e);throw new n(`Possible HTML comment rejected at ${r}:${t}. (SES_HTML_COMMENT_REJECTED)`)};r.rejectHtmlComments(u),r.evadeHtmlCommentTest((e=>s(e,m,(e=>"<"===e[0]?"< ! --":"-- >"))));const y=new o("(^|[^.])\\bimport(\\s*(?:\\(|/[/*]))","g"),f=e=>{const t=p(e,y);if(t<0)return e;const r=l(e);throw new n(`Possible import expression rejected at ${r}:${t}. (SES_IMPORT_REJECTED)`)};r.rejectImportExpressions(f),r.evadeImportExpressionTest((e=>s(e,y,((e,t,r)=>`${t}__import__${r}`))));const g=new o("(^|[^.])\\beval(\\s*\\()","g");r.rejectSomeDirectEvalExpressions((e=>{const t=p(e,g);if(t<0)return e;const r=l(e);throw new n(`Possible direct eval expression rejected at ${r}:${t}. (SES_EVAL_REJECTED)`)})),r.mandatoryTransforms((e=>(e=u(e),f(e)))),r.applyTransforms(((e,t)=>{for(const r of t)e=r(e);return e}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y;e([["./commons.js",[["WeakSet",[e=>o=e]],["apply",[e=>n=e]],["immutableObject",[e=>s=e]],["proxyRevocable",[e=>a=e]],["weaksetAdd",[e=>i=e]]]],["./scope-constants.js",[["getScopeConstants",[e=>c=e]]]],["./scope-handler.js",[["createScopeHandler",[e=>l=e]]]],["./transforms.js",[["applyTransforms",[e=>p=e]],["mandatoryTransforms",[e=>m=e]]]],["./make-evaluate-factory.js",[["makeEvaluateFactory",[e=>u=e]]]],["./error/assert.js",[["assert",[e=>y=e]]]]]);const{details:f}=y;r.makeSafeEvaluator((({globalObject:e,localObject:t={},globalTransforms:r=[],sloppyGlobalsMode:g=!1,knownScopeProxies:d=new o}={})=>{const{scopeHandler:P,admitOneUnsafeEvalNext:E,resetOneUnsafeEvalNext:w}=l(e,t,{sloppyGlobalsMode:g}),{proxy:b,revoke:h}=a(s,P);let S;return i(d,b),{safeEvaluate:(o,{localTransforms:s=[]}={})=>{let a;(()=>{if(!S){const r=c(e,t),o=u(r);S=n(o,b,[])}})(),o=p(o,[...s,...r,m]),E();try{return n(S,e,[o])}catch(e){throw a=e,e}finally{w()&&(h(),y.fail(f`handler did not reset allowNextEvalToBeUnsafe ${a}`))}}}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m;e([["./commons.js",[["TypeError",[e=>o=e]],["arrayPush",[e=>n=e]],["create",[e=>s=e]],["defineProperties",[e=>a=e]],["getOwnPropertyDescriptors",[e=>i=e]]]],["./transforms.js",[["evadeHtmlCommentTest",[e=>c=e]],["evadeImportExpressionTest",[e=>l=e]],["rejectSomeDirectEvalExpressions",[e=>p=e]]]],["./make-safe-evaluator.js",[["makeSafeEvaluator",[e=>m=e]]]]]);const u=(e,t)=>{const{sloppyGlobalsMode:r=!1,__moduleShimLexicals__:o}=t;let n;if(void 0!==o||r){let{globalTransforms:t}=e;const{globalObject:c,globalLexicals:l,knownScopeProxies:p}=e;let u=l;void 0!==o&&(t=void 0,u=s(null,i(l)),a(u,i(o))),({safeEvaluate:n}=m({globalObject:c,localObject:u,globalTransforms:t,sloppyGlobalsMode:r,knownScopeProxies:p}))}else({safeEvaluate:n}=e);return{safeEvaluate:n}};r.provideCompartmentEvaluator(u),r.compartmentEvaluate(((e,t,r)=>{if("string"!=typeof t)throw new o("first argument of evaluate() must be a string");const{transforms:s=[],__evadeHtmlCommentTest__:a=!1,__evadeImportExpressionTest__:i=!1,__rejectSomeDirectEvalExpressions__:m=!0}=r,y=[...s];!0===a&&n(y,c),!0===i&&n(y,l),!0===m&&n(y,p);const{safeEvaluate:f}=u(e,r);return f(t,{localTransforms:y})}))},({imports:e,liveVar:t,onceVar:r})=>{e([]),r.makeEvalFunction((e=>t=>"string"!=typeof t?t:e(t)))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c;e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["arrayJoin",[e=>n=e]],["arrayPop",[e=>s=e]],["defineProperties",[e=>a=e]],["getPrototypeOf",[e=>i=e]]]],["./error/assert.js",[["assert",[e=>c=e]]]]]),r.makeFunctionConstructor((e=>{const t=function(t){const r=""+(s(arguments)||""),a=""+n(arguments,",");new o(a,""),new o(r);const i=`(function anonymous(${a}\n) {\n${r}\n})`;return e(i)};return a(t,{prototype:{value:o.prototype,writable:!1,enumerable:!1,configurable:!1}}),c(i(o)===o.prototype,"Function prototype is the same accross compartments"),c(i(t)===o.prototype,"Function constructor prototype is the same accross compartments"),t}))},({imports:e,liveVar:t,onceVar:r})=>{e([]);r.constantProperties({Infinity:1/0,NaN:NaN,undefined:void 0}),r.universalPropertyNames({isFinite:"isFinite",isNaN:"isNaN",parseFloat:"parseFloat",parseInt:"parseInt",decodeURI:"decodeURI",decodeURIComponent:"decodeURIComponent",encodeURI:"encodeURI",encodeURIComponent:"encodeURIComponent",Array:"Array",ArrayBuffer:"ArrayBuffer",BigInt:"BigInt",BigInt64Array:"BigInt64Array",BigUint64Array:"BigUint64Array",Boolean:"Boolean",DataView:"DataView",EvalError:"EvalError",Float32Array:"Float32Array",Float64Array:"Float64Array",Int8Array:"Int8Array",Int16Array:"Int16Array",Int32Array:"Int32Array",Map:"Map",Number:"Number",Object:"Object",Promise:"Promise",Proxy:"Proxy",RangeError:"RangeError",ReferenceError:"ReferenceError",Set:"Set",String:"String",Symbol:"Symbol",SyntaxError:"SyntaxError",TypeError:"TypeError",Uint8Array:"Uint8Array",Uint8ClampedArray:"Uint8ClampedArray",Uint16Array:"Uint16Array",Uint32Array:"Uint32Array",URIError:"URIError",WeakMap:"WeakMap",WeakSet:"WeakSet",JSON:"JSON",Reflect:"Reflect",escape:"escape",unescape:"unescape",lockdown:"lockdown",harden:"harden",HandledPromise:"HandledPromise"}),r.initialGlobalPropertyNames({Date:"%InitialDate%",Error:"%InitialError%",RegExp:"%InitialRegExp%",Math:"%InitialMath%",getStackString:"%InitialGetStackString%"}),r.sharedGlobalPropertyNames({Date:"%SharedDate%",Error:"%SharedError%",RegExp:"%SharedRegExp%",Math:"%SharedMath%"}),r.uniqueGlobalPropertyNames({globalThis:"%UniqueGlobalThis%",eval:"%UniqueEval%",Function:"%UniqueFunction%",Compartment:"%UniqueCompartment%"});const o=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError];r.NativeErrors(o);const n={"[[Proto]]":"%FunctionPrototype%",length:"number",name:"string"};r.FunctionInstance(n);const s=n,a={"[[Proto]]":"%AsyncFunctionPrototype%"},i={get:s,set:"undefined"},c={get:s,set:s};function l(e){return{"[[Proto]]":"%SharedError%",prototype:e}}function p(e){return{"[[Proto]]":"%ErrorPrototype%",constructor:e,message:"string",name:"string",toString:!1}}function m(e){return{"[[Proto]]":"%TypedArray%",BYTES_PER_ELEMENT:"number",prototype:e}}function u(e){return{"[[Proto]]":"%TypedArrayPrototype%",BYTES_PER_ELEMENT:"number",constructor:e}}r.isAccessorPermit((e=>e===i||e===c));const y={E:"number",LN10:"number",LN2:"number",LOG10E:"number",LOG2E:"number",PI:"number",SQRT1_2:"number",SQRT2:"number","@@toStringTag":"string",abs:s,acos:s,acosh:s,asin:s,asinh:s,atan:s,atanh:s,atan2:s,cbrt:s,ceil:s,clz32:s,cos:s,cosh:s,exp:s,expm1:s,floor:s,fround:s,hypot:s,imul:s,log:s,log1p:s,log10:s,log2:s,max:s,min:s,pow:s,round:s,sign:s,sin:s,sinh:s,sqrt:s,tan:s,tanh:s,trunc:s,idiv:!1,idivmod:!1,imod:!1,imuldiv:!1,irem:!1,mod:!1},f={"[[Proto]]":null,"%ThrowTypeError%":s,Infinity:"number",NaN:"number",undefined:"undefined","%UniqueEval%":s,isFinite:s,isNaN:s,parseFloat:s,parseInt:s,decodeURI:s,decodeURIComponent:s,encodeURI:s,encodeURIComponent:s,Object:{"[[Proto]]":"%FunctionPrototype%",assign:s,create:s,defineProperties:s,defineProperty:s,entries:s,freeze:s,fromEntries:s,getOwnPropertyDescriptor:s,getOwnPropertyDescriptors:s,getOwnPropertyNames:s,getOwnPropertySymbols:s,getPrototypeOf:s,is:s,isExtensible:s,isFrozen:s,isSealed:s,keys:s,preventExtensions:s,prototype:"%ObjectPrototype%",seal:s,setPrototypeOf:s,values:s,hasOwn:s},"%ObjectPrototype%":{"[[Proto]]":null,constructor:"Object",hasOwnProperty:s,isPrototypeOf:s,propertyIsEnumerable:s,toLocaleString:s,toString:s,valueOf:s,"--proto--":c,__defineGetter__:s,__defineSetter__:s,__lookupGetter__:s,__lookupSetter__:s},"%UniqueFunction%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%FunctionPrototype%"},"%InertFunction%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%FunctionPrototype%"},"%FunctionPrototype%":{apply:s,bind:s,call:s,constructor:"%InertFunction%",toString:s,"@@hasInstance":s,caller:!1,arguments:!1},Boolean:{"[[Proto]]":"%FunctionPrototype%",prototype:"%BooleanPrototype%"},"%BooleanPrototype%":{constructor:"Boolean",toString:s,valueOf:s},Symbol:{"[[Proto]]":"%FunctionPrototype%",asyncIterator:"symbol",for:s,hasInstance:"symbol",isConcatSpreadable:"symbol",iterator:"symbol",keyFor:s,match:"symbol",matchAll:"symbol",prototype:"%SymbolPrototype%",replace:"symbol",search:"symbol",species:"symbol",split:"symbol",toPrimitive:"symbol",toStringTag:"symbol",unscopables:"symbol"},"%SymbolPrototype%":{constructor:"Symbol",description:i,toString:s,valueOf:s,"@@toPrimitive":s,"@@toStringTag":"string"},"%InitialError%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%ErrorPrototype%",captureStackTrace:s,stackTraceLimit:c,prepareStackTrace:c},"%SharedError%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%ErrorPrototype%",captureStackTrace:s,stackTraceLimit:c,prepareStackTrace:c},"%ErrorPrototype%":{constructor:"%SharedError%",message:"string",name:"string",toString:s,at:!1,stack:!1},EvalError:l("%EvalErrorPrototype%"),RangeError:l("%RangeErrorPrototype%"),ReferenceError:l("%ReferenceErrorPrototype%"),SyntaxError:l("%SyntaxErrorPrototype%"),TypeError:l("%TypeErrorPrototype%"),URIError:l("%URIErrorPrototype%"),"%EvalErrorPrototype%":p("EvalError"),"%RangeErrorPrototype%":p("RangeError"),"%ReferenceErrorPrototype%":p("ReferenceError"),"%SyntaxErrorPrototype%":p("SyntaxError"),"%TypeErrorPrototype%":p("TypeError"),"%URIErrorPrototype%":p("URIError"),Number:{"[[Proto]]":"%FunctionPrototype%",EPSILON:"number",isFinite:s,isInteger:s,isNaN:s,isSafeInteger:s,MAX_SAFE_INTEGER:"number",MAX_VALUE:"number",MIN_SAFE_INTEGER:"number",MIN_VALUE:"number",NaN:"number",NEGATIVE_INFINITY:"number",parseFloat:s,parseInt:s,POSITIVE_INFINITY:"number",prototype:"%NumberPrototype%"},"%NumberPrototype%":{constructor:"Number",toExponential:s,toFixed:s,toLocaleString:s,toPrecision:s,toString:s,valueOf:s},BigInt:{"[[Proto]]":"%FunctionPrototype%",asIntN:s,asUintN:s,prototype:"%BigIntPrototype%",bitLength:!1,fromArrayBuffer:!1},"%BigIntPrototype%":{constructor:"BigInt",toLocaleString:s,toString:s,valueOf:s,"@@toStringTag":"string"},"%InitialMath%":{...y,random:s},"%SharedMath%":y,"%InitialDate%":{"[[Proto]]":"%FunctionPrototype%",now:s,parse:s,prototype:"%DatePrototype%",UTC:s},"%SharedDate%":{"[[Proto]]":"%FunctionPrototype%",now:s,parse:s,prototype:"%DatePrototype%",UTC:s},"%DatePrototype%":{constructor:"%SharedDate%",getDate:s,getDay:s,getFullYear:s,getHours:s,getMilliseconds:s,getMinutes:s,getMonth:s,getSeconds:s,getTime:s,getTimezoneOffset:s,getUTCDate:s,getUTCDay:s,getUTCFullYear:s,getUTCHours:s,getUTCMilliseconds:s,getUTCMinutes:s,getUTCMonth:s,getUTCSeconds:s,setDate:s,setFullYear:s,setHours:s,setMilliseconds:s,setMinutes:s,setMonth:s,setSeconds:s,setTime:s,setUTCDate:s,setUTCFullYear:s,setUTCHours:s,setUTCMilliseconds:s,setUTCMinutes:s,setUTCMonth:s,setUTCSeconds:s,toDateString:s,toISOString:s,toJSON:s,toLocaleDateString:s,toLocaleString:s,toLocaleTimeString:s,toString:s,toTimeString:s,toUTCString:s,valueOf:s,"@@toPrimitive":s,getYear:s,setYear:s,toGMTString:s},String:{"[[Proto]]":"%FunctionPrototype%",fromCharCode:s,fromCodePoint:s,prototype:"%StringPrototype%",raw:s,fromArrayBuffer:!1},"%StringPrototype%":{length:"number",charAt:s,charCodeAt:s,codePointAt:s,concat:s,constructor:"String",endsWith:s,includes:s,indexOf:s,lastIndexOf:s,localeCompare:s,match:s,matchAll:s,normalize:s,padEnd:s,padStart:s,repeat:s,replace:s,replaceAll:s,search:s,slice:s,split:s,startsWith:s,substring:s,toLocaleLowerCase:s,toLocaleUpperCase:s,toLowerCase:s,toString:s,toUpperCase:s,trim:s,trimEnd:s,trimStart:s,valueOf:s,"@@iterator":s,substr:s,anchor:s,big:s,blink:s,bold:s,fixed:s,fontcolor:s,fontsize:s,italics:s,link:s,small:s,strike:s,sub:s,sup:s,trimLeft:s,trimRight:s,compare:!1,at:s},"%StringIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},"%InitialRegExp%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%RegExpPrototype%","@@species":i,input:!1,$_:!1,lastMatch:!1,"$&":!1,lastParen:!1,"$+":!1,leftContext:!1,"$`":!1,rightContext:!1,"$'":!1,$1:!1,$2:!1,$3:!1,$4:!1,$5:!1,$6:!1,$7:!1,$8:!1,$9:!1},"%SharedRegExp%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%RegExpPrototype%","@@species":i},"%RegExpPrototype%":{constructor:"%SharedRegExp%",exec:s,dotAll:i,flags:i,global:i,ignoreCase:i,"@@match":s,"@@matchAll":s,multiline:i,"@@replace":s,"@@search":s,source:i,"@@split":s,sticky:i,test:s,toString:s,unicode:i,compile:!1,hasIndices:!1},"%RegExpStringIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},Array:{"[[Proto]]":"%FunctionPrototype%",from:s,isArray:s,of:s,prototype:"%ArrayPrototype%","@@species":i,at:s},"%ArrayPrototype%":{length:"number",concat:s,constructor:"Array",copyWithin:s,entries:s,every:s,fill:s,filter:s,find:s,findIndex:s,flat:s,flatMap:s,forEach:s,includes:s,indexOf:s,join:s,keys:s,lastIndexOf:s,map:s,pop:s,push:s,reduce:s,reduceRight:s,reverse:s,shift:s,slice:s,some:s,sort:s,splice:s,toLocaleString:s,toString:s,unshift:s,values:s,"@@iterator":s,"@@unscopables":{"[[Proto]]":null,copyWithin:"boolean",entries:"boolean",fill:"boolean",find:"boolean",findIndex:"boolean",flat:"boolean",flatMap:"boolean",includes:"boolean",keys:"boolean",values:"boolean",at:!1},at:!1,findLast:s,findLastIndex:s},"%ArrayIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},"%TypedArray%":{"[[Proto]]":"%FunctionPrototype%",from:s,of:s,prototype:"%TypedArrayPrototype%","@@species":i},"%TypedArrayPrototype%":{buffer:i,byteLength:i,byteOffset:i,constructor:"%TypedArray%",copyWithin:s,entries:s,every:s,fill:s,filter:s,find:s,findIndex:s,forEach:s,includes:s,indexOf:s,join:s,keys:s,lastIndexOf:s,length:i,map:s,reduce:s,reduceRight:s,reverse:s,set:s,slice:s,some:s,sort:s,subarray:s,toLocaleString:s,toString:s,values:s,"@@iterator":s,"@@toStringTag":i,at:!1,findLast:s,findLastIndex:s},BigInt64Array:m("%BigInt64ArrayPrototype%"),BigUint64Array:m("%BigUint64ArrayPrototype%"),Float32Array:m("%Float32ArrayPrototype%"),Float64Array:m("%Float64ArrayPrototype%"),Int16Array:m("%Int16ArrayPrototype%"),Int32Array:m("%Int32ArrayPrototype%"),Int8Array:m("%Int8ArrayPrototype%"),Uint16Array:m("%Uint16ArrayPrototype%"),Uint32Array:m("%Uint32ArrayPrototype%"),Uint8Array:m("%Uint8ArrayPrototype%"),Uint8ClampedArray:m("%Uint8ClampedArrayPrototype%"),"%BigInt64ArrayPrototype%":u("BigInt64Array"),"%BigUint64ArrayPrototype%":u("BigUint64Array"),"%Float32ArrayPrototype%":u("Float32Array"),"%Float64ArrayPrototype%":u("Float64Array"),"%Int16ArrayPrototype%":u("Int16Array"),"%Int32ArrayPrototype%":u("Int32Array"),"%Int8ArrayPrototype%":u("Int8Array"),"%Uint16ArrayPrototype%":u("Uint16Array"),"%Uint32ArrayPrototype%":u("Uint32Array"),"%Uint8ArrayPrototype%":u("Uint8Array"),"%Uint8ClampedArrayPrototype%":u("Uint8ClampedArray"),Map:{"[[Proto]]":"%FunctionPrototype%","@@species":i,prototype:"%MapPrototype%"},"%MapPrototype%":{clear:s,constructor:"Map",delete:s,entries:s,forEach:s,get:s,has:s,keys:s,set:s,size:i,values:s,"@@iterator":s,"@@toStringTag":"string"},"%MapIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},Set:{"[[Proto]]":"%FunctionPrototype%",prototype:"%SetPrototype%","@@species":i},"%SetPrototype%":{add:s,clear:s,constructor:"Set",delete:s,entries:s,forEach:s,has:s,keys:s,size:i,values:s,"@@iterator":s,"@@toStringTag":"string"},"%SetIteratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",next:s,"@@toStringTag":"string"},WeakMap:{"[[Proto]]":"%FunctionPrototype%",prototype:"%WeakMapPrototype%"},"%WeakMapPrototype%":{constructor:"WeakMap",delete:s,get:s,has:s,set:s,"@@toStringTag":"string"},WeakSet:{"[[Proto]]":"%FunctionPrototype%",prototype:"%WeakSetPrototype%"},"%WeakSetPrototype%":{add:s,constructor:"WeakSet",delete:s,has:s,"@@toStringTag":"string"},ArrayBuffer:{"[[Proto]]":"%FunctionPrototype%",isView:s,prototype:"%ArrayBufferPrototype%","@@species":i,fromString:!1,fromBigInt:!1},"%ArrayBufferPrototype%":{byteLength:i,constructor:"ArrayBuffer",slice:s,"@@toStringTag":"string",concat:!1,transfer:s,resize:s,resizable:i,maxByteLength:i},SharedArrayBuffer:!1,"%SharedArrayBufferPrototype%":!1,DataView:{"[[Proto]]":"%FunctionPrototype%",BYTES_PER_ELEMENT:"number",prototype:"%DataViewPrototype%"},"%DataViewPrototype%":{buffer:i,byteLength:i,byteOffset:i,constructor:"DataView",getBigInt64:s,getBigUint64:s,getFloat32:s,getFloat64:s,getInt8:s,getInt16:s,getInt32:s,getUint8:s,getUint16:s,getUint32:s,setBigInt64:s,setBigUint64:s,setFloat32:s,setFloat64:s,setInt8:s,setInt16:s,setInt32:s,setUint8:s,setUint16:s,setUint32:s,"@@toStringTag":"string"},Atomics:!1,JSON:{parse:s,stringify:s,"@@toStringTag":"string"},"%IteratorPrototype%":{"@@iterator":s},"%AsyncIteratorPrototype%":{"@@asyncIterator":s},"%InertGeneratorFunction%":{"[[Proto]]":"%InertFunction%",prototype:"%Generator%"},"%Generator%":{"[[Proto]]":"%FunctionPrototype%",constructor:"%InertGeneratorFunction%",prototype:"%GeneratorPrototype%","@@toStringTag":"string"},"%InertAsyncGeneratorFunction%":{"[[Proto]]":"%InertFunction%",prototype:"%AsyncGenerator%"},"%AsyncGenerator%":{"[[Proto]]":"%FunctionPrototype%",constructor:"%InertAsyncGeneratorFunction%",prototype:"%AsyncGeneratorPrototype%","@@toStringTag":"string"},"%GeneratorPrototype%":{"[[Proto]]":"%IteratorPrototype%",constructor:"%Generator%",next:s,return:s,throw:s,"@@toStringTag":"string"},"%AsyncGeneratorPrototype%":{"[[Proto]]":"%AsyncIteratorPrototype%",constructor:"%AsyncGenerator%",next:s,return:s,throw:s,"@@toStringTag":"string"},HandledPromise:{"[[Proto]]":"Promise",applyFunction:s,applyFunctionSendOnly:s,applyMethod:s,applyMethodSendOnly:s,get:s,getSendOnly:s,prototype:"%PromisePrototype%",resolve:s},Promise:{"[[Proto]]":"%FunctionPrototype%",all:s,allSettled:s,any:!1,prototype:"%PromisePrototype%",race:s,reject:s,resolve:s,"@@species":i},"%PromisePrototype%":{catch:s,constructor:"Promise",finally:s,then:s,"@@toStringTag":"string"},"%InertAsyncFunction%":{"[[Proto]]":"%InertFunction%",prototype:"%AsyncFunctionPrototype%"},"%AsyncFunctionPrototype%":{"[[Proto]]":"%FunctionPrototype%",constructor:"%InertAsyncFunction%","@@toStringTag":"string"},Reflect:{apply:s,construct:s,defineProperty:s,deleteProperty:s,get:s,getOwnPropertyDescriptor:s,getPrototypeOf:s,has:s,isExtensible:s,ownKeys:s,preventExtensions:s,set:s,setPrototypeOf:s,"@@toStringTag":"string"},Proxy:{"[[Proto]]":"%FunctionPrototype%",revocable:s},escape:s,unescape:s,"%UniqueCompartment%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%CompartmentPrototype%",toString:s},"%InertCompartment%":{"[[Proto]]":"%FunctionPrototype%",prototype:"%CompartmentPrototype%",toString:s},"%CompartmentPrototype%":{constructor:"%InertCompartment%",evaluate:s,globalThis:i,name:i,toString:s,__isKnownScopeProxy__:s,import:a,load:a,importNow:s,module:s},lockdown:s,harden:s,"%InitialGetStackString%":s};r.whitelist(f)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l;e([["./commons.js",[["defineProperty",[e=>o=e]],["objectHasOwnProperty",[e=>n=e]],["entries",[e=>s=e]]]],["./make-eval-function.js",[["makeEvalFunction",[e=>a=e]]]],["./make-function-constructor.js",[["makeFunctionConstructor",[e=>i=e]]]],["./whitelist.js",[["constantProperties",[e=>c=e]],["universalPropertyNames",[e=>l=e]]]]]),r.setGlobalObjectConstantProperties((e=>{for(const[t,r]of s(c))o(e,t,{value:r,writable:!1,enumerable:!1,configurable:!1})})),r.setGlobalObjectMutableProperties(((e,{intrinsics:t,newGlobalPropertyNames:r,makeCompartmentConstructor:c,safeEvaluate:p,markVirtualizedNativeFunction:m})=>{for(const[r,a]of s(l))n(t,a)&&o(e,r,{value:t[a],writable:!0,enumerable:!1,configurable:!0});for(const[a,i]of s(r))n(t,i)&&o(e,a,{value:t[i],writable:!0,enumerable:!1,configurable:!0});const u={globalThis:e,eval:a(p),Function:i(p)};u.Compartment=c(c,t,m);for(const[t,r]of s(u))o(e,t,{value:r,writable:!0,enumerable:!1,configurable:!0}),"function"==typeof r&&m(r)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,P,E,w,b;e([["./commons.js",[["ReferenceError",[e=>o=e]],["TypeError",[e=>n=e]],["Map",[e=>s=e]],["Set",[e=>a=e]],["arrayJoin",[e=>i=e]],["arrayMap",[e=>c=e]],["arrayPush",[e=>l=e]],["create",[e=>p=e]],["freeze",[e=>m=e]],["mapGet",[e=>u=e]],["mapHas",[e=>y=e]],["mapSet",[e=>f=e]],["setAdd",[e=>g=e]],["promiseCatch",[e=>d=e]],["promiseThen",[e=>P=e]],["values",[e=>E=e]],["weakmapGet",[e=>w=e]]]],["./error/assert.js",[["assert",[e=>b=e]]]]]);const{details:h,quote:S}=b,v=()=>{};r.makeAlias(((e,t)=>m({compartment:e,specifier:t})));const k=async(e,t,r,o,n,s,a,i)=>{const{resolveHook:c,moduleRecords:u}=w(e,r),y=((e,t,r)=>{const o=p(null);for(const n of e){const e=t(n,r);o[n]=e}return m(o)})(n.imports,c,o),d=m({compartment:r,staticModuleRecord:n,moduleSpecifier:o,resolvedImports:y});for(const o of E(y)){const n=j(e,t,r,o,s,a,i);g(s,P(n,v,(e=>{l(i,e)})))}return f(u,o,d),d},j=async(e,t,r,a,i,c,l)=>{const{name:p}=w(e,r);let m=u(c,r);void 0===m&&(m=new s,f(c,r,m));let g=u(m,a);return void 0!==g||(g=d((async(e,t,r,s,a,i,c)=>{const{importHook:l,moduleMap:p,moduleMapHook:m,moduleRecords:g}=w(e,r);let d=p[s];if(void 0===d&&void 0!==m&&(d=m(s)),"string"==typeof d)b.fail(h`Cannot map module ${S(s)} to ${S(d)} in parent compartment, not yet implemented`,n);else if(void 0!==d){const r=w(t,d);void 0===r&&b.fail(h`Cannot map module ${S(s)} because the value is not a module exports namespace, or is from another realm`,o);const n=await j(e,t,r.compartment,r.specifier,a,i,c);return f(g,s,n),n}if(y(g,s))return u(g,s);const P=await l(s);if(null!==P&&"object"==typeof P||b.fail(h`importHook must return a promise for an object, for module ${S(s)} in compartment ${S(r.name)}`),void 0!==P.record){const{compartment:o=r,specifier:n=s,record:l}=P,p=await k(e,t,o,n,l,a,i,c);return f(g,s,p),p}return k(e,t,r,s,P,a,i,c)})(e,t,r,a,i,c,l),(e=>{throw b.note(e,h`${e.message}, loading ${S(a)} in compartment ${S(p)}`),e})),f(m,a,g)),g};r.load((async(e,t,r,o)=>{const{name:p}=w(e,r),m=new a,u=new s,y=[],f=j(e,t,r,o,m,u,y);g(m,P(f,v,(e=>{l(y,e)})));for(const e of m)await e;if(y.length>0)throw new n(`Failed to load module ${S(o)} in package ${S(p)} (${y.length} underlying failures: ${i(c(y,(e=>e.message)),", ")}`)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,P,E;e([["./module-load.js",[["makeAlias",[e=>o=e]]]],["./commons.js",[["Proxy",[e=>n=e]],["TypeError",[e=>s=e]],["create",[e=>a=e]],["freeze",[e=>i=e]],["mapGet",[e=>c=e]],["mapHas",[e=>l=e]],["mapSet",[e=>p=e]],["ownKeys",[e=>m=e]],["reflectGet",[e=>u=e]],["reflectGetOwnPropertyDescriptor",[e=>y=e]],["reflectHas",[e=>f=e]],["reflectIsExtensible",[e=>g=e]],["reflectPreventExtensions",[e=>d=e]],["weakmapSet",[e=>P=e]]]],["./error/assert.js",[["assert",[e=>E=e]]]]]);const{quote:w}=E,b=()=>{let e=!1;const t=a(null);return i({activate(){e=!0},proxiedExports:t,exportsProxy:new n(t,{get(r,o,n){if(!e)throw new s(`Cannot get property ${w(o)} of module exports namespace, the module has not yet begun to execute`);return u(t,o,n)},set(e,t,r){throw new s(`Cannot set property ${w(t)} of module exports namespace`)},has(r,o){if(!e)throw new s(`Cannot check property ${w(o)}, the module has not yet begun to execute`);return f(t,o)},deleteProperty(e,t){throw new s(`Cannot delete property ${w(t)}s of module exports namespace`)},ownKeys(r){if(!e)throw new s("Cannot enumerate keys, the module has not yet begun to execute");return m(t)},getOwnPropertyDescriptor(r,o){if(!e)throw new s(`Cannot get own property descriptor ${w(o)}, the module has not yet begun to execute`);return y(t,o)},preventExtensions(r){if(!e)throw new s("Cannot prevent extensions of module exports namespace, the module has not yet begun to execute");return d(t)},isExtensible(){if(!e)throw new s("Cannot check extensibility of module exports namespace, the module has not yet begun to execute");return g(t)},getPrototypeOf:e=>null,setPrototypeOf(e,t){throw new s("Cannot set prototype of module exports namespace")},defineProperty(e,t,r){throw new s(`Cannot define property ${w(t)} of module exports namespace`)},apply(e,t,r){throw new s("Cannot call module exports namespace, it is not a function")},construct(e,t){throw new s("Cannot construct module exports namespace, it is not a constructor")}})})};r.deferExports(b),r.getDeferredExports(((e,t,r,n)=>{const{deferredExports:s}=t;if(!l(s,n)){const t=b();P(r,t.exportsProxy,o(e,n)),p(s,n,t)}return c(s,n)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,P,E,w,b,h;e([["./error/assert.js",[["assert",[e=>o=e]]]],["./module-proxy.js",[["getDeferredExports",[e=>n=e]]]],["./commons.js",[["ReferenceError",[e=>s=e]],["SyntaxError",[e=>a=e]],["TypeError",[e=>i=e]],["arrayForEach",[e=>c=e]],["arrayIncludes",[e=>l=e]],["arrayPush",[e=>p=e]],["arraySome",[e=>m=e]],["arraySort",[e=>u=e]],["create",[e=>y=e]],["defineProperty",[e=>f=e]],["entries",[e=>g=e]],["freeze",[e=>d=e]],["isArray",[e=>P=e]],["keys",[e=>E=e]],["mapGet",[e=>w=e]],["weakmapGet",[e=>b=e]]]],["./compartment-evaluate.js",[["compartmentEvaluate",[e=>h=e]]]]]);const{quote:S}=o;r.makeThirdPartyModuleInstance(((e,t,r,o,s,a)=>{const{exportsProxy:l,proxiedExports:u,activate:g}=n(r,b(e,r),o,s),E=y(null);if(t.exports){if(!P(t.exports)||m(t.exports,(e=>"string"!=typeof e)))throw new i('SES third-party static module record "exports" property must be an array of strings for module '+s);c(t.exports,(e=>{let t=u[e];const r=[];f(u,e,{get:()=>t,set:e=>{t=e;for(const t of r)t(e)},enumerable:!0,configurable:!1}),E[e]=e=>{p(r,e),e(t)}}))}let w=!1;return d({notifiers:E,exportsProxy:l,execute(){w||(g(),w=!0,t.execute(u,r,a))}})})),r.makeModuleInstance(((e,t,r,o)=>{const{compartment:m,moduleSpecifier:P,staticModuleRecord:v}=r,{reexports:k=[],__syncModuleProgram__:j,__fixedExportMap__:A={},__liveExportMap__:T={}}=v,x=b(e,m),{__shimTransforms__:I}=x,{exportsProxy:O,proxiedExports:C,activate:_}=n(m,x,t,P),F=y(null),V=y(null),N=y(null),M=y(null),R=y(null),$=y(null);function L(e){const t=y(null);t.default=!1;for(const[r,n]of e){const e=w(o,r);e.execute();const{notifiers:s}=e;for(const[e,t]of n){const o=s[e];if(!o)throw a(`The requested module '${r}' does not provide an export named '${e}'`);for(const e of t)o(e)}if(l(k,r))for(const[e,r]of g(s))void 0===t[e]?t[e]=r:t[e]=!1}for(const[e,r]of g(t))if(!$[e]&&!1!==r){let t;$[e]=r,r((e=>t=e)),F[e]={get:()=>t,set:void 0,enumerable:!0,configurable:!1}}c(u(E(F)),(e=>f(C,e,F[e]))),d(C),_()}c(g(A),(([e,[t]])=>{let r=R[t];if(!r){let e,o=!0,n=[];const a=()=>{if(o)throw new s(`binding ${S(t)} not yet initialized`);return e},c=d((r=>{if(!o)throw new i(`Internal: binding ${S(t)} already initialized`);e=r;const s=n;n=null,o=!1;for(const e of s)e(r);return r}));r={get:a,notify:t=>{t!==c&&(o?p(n,t):t(e))}},R[t]=r,N[t]=c}F[e]={get:r.get,set:void 0,enumerable:!0,configurable:!1},$[e]=r.notify})),c(g(T),(([e,[t,r]])=>{let o=R[t];if(!o){let n,a=!0;const i=[],c=()=>{if(a)throw new s(`binding ${S(e)} not yet initialized`);return n},l=d((e=>{n=e,a=!1;for(const t of i)t(e)})),m=e=>{if(a)throw new s(`binding ${S(t)} not yet initialized`);n=e;for(const t of i)t(e)};o={get:c,notify:e=>{e!==l&&(p(i,e),a||e(n))}},R[t]=o,r&&f(V,t,{get:c,set:m,enumerable:!0,configurable:!1}),M[t]=l}F[e]={get:o.get,set:void 0,enumerable:!0,configurable:!1},$[e]=o.notify})),$["*"]=e=>{e(C)};let G,D=h(x,j,{globalObject:m.globalThis,transforms:I,__moduleShimLexicals__:V}),U=!1;return d({notifiers:$,exportsProxy:O,execute:function(){if(D){const e=D;D=null;try{e(d({imports:d(L),onceVar:d(N),liveVar:d(M)}))}catch(e){U=!0,G=e}}if(U)throw G}})}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g;e([["./error/assert.js",[["assert",[e=>o=e]]]],["./module-instance.js",[["makeModuleInstance",[e=>n=e]],["makeThirdPartyModuleInstance",[e=>s=e]]]],["./commons.js",[["Map",[e=>a=e]],["ReferenceError",[e=>i=e]],["TypeError",[e=>c=e]],["entries",[e=>l=e]],["isArray",[e=>p=e]],["isObject",[e=>m=e]],["mapGet",[e=>u=e]],["mapHas",[e=>y=e]],["mapSet",[e=>f=e]],["weakmapGet",[e=>g=e]]]]]);const{quote:d}=o,P=(e,t,r,o)=>{const{name:n,moduleRecords:s}=g(e,r),a=u(s,o);if(void 0===a)throw new i(`Missing link to module ${d(o)} from compartment ${d(n)}`);return E(e,t,a)};r.link(P);const E=(e,t,r)=>{const{compartment:i,moduleSpecifier:E,resolvedImports:w,staticModuleRecord:b}=r,{instances:h}=g(e,i);if(y(h,E))return u(h,E);!function(e,t){o(m(e),`Static module records must be of type object, got ${d(e)}, for module ${d(t)}`);const{imports:r,exports:n,reexports:s=[]}=e;o(p(r),`Property 'imports' of a static module record must be an array, got ${d(r)}, for module ${d(t)}`),o(p(n),`Property 'exports' of a precompiled module record must be an array, got ${d(n)}, for module ${d(t)}`),o(p(s),`Property 'reexports' of a precompiled module record must be an array if present, got ${d(s)}, for module ${d(t)}`)}(b,E);const S=new a;let v;if(function(e){return"string"==typeof e.__syncModuleProgram__}(b))!function(e,t){const{__fixedExportMap__:r,__liveExportMap__:n}=e;o(m(r),`Property '__fixedExportMap__' of a precompiled module record must be an object, got ${d(r)}, for module ${d(t)}`),o(m(n),`Property '__liveExportMap__' of a precompiled module record must be an object, got ${d(n)}, for module ${d(t)}`)}(b,E),v=n(e,t,r,S);else{if(!function(e){return"function"==typeof e.execute}(b))throw new c("importHook must return a static module record, got "+d(b));!function(e,t){const{exports:r}=e;o(p(r),`Property 'exports' of a third-party static module record must be an array, got ${d(r)}, for module ${d(t)}`)}(b,E),v=s(e,b,i,t,E,w)}f(h,E,v);for(const[r,o]of l(w)){const n=P(e,t,i,o);f(S,r,n)}return v};r.instantiate(E)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,P,E,w,b,h,S,v,k,j,A,T,x;e([["./commons.js",[["Map",[e=>o=e]],["ReferenceError",[e=>n=e]],["TypeError",[e=>s=e]],["WeakMap",[e=>a=e]],["WeakSet",[e=>i=e]],["arrayFilter",[e=>c=e]],["arrayJoin",[e=>l=e]],["assign",[e=>p=e]],["defineProperties",[e=>m=e]],["entries",[e=>u=e]],["freeze",[e=>y=e]],["getOwnPropertyNames",[e=>f=e]],["promiseThen",[e=>g=e]],["weakmapGet",[e=>d=e]],["weakmapSet",[e=>P=e]],["weaksetHas",[e=>E=e]]]],["./global-object.js",[["setGlobalObjectConstantProperties",[e=>w=e]],["setGlobalObjectMutableProperties",[e=>b=e]]]],["./scope-constants.js",[["isValidIdentifierName",[e=>h=e]]]],["./whitelist.js",[["sharedGlobalPropertyNames",[e=>S=e]]]],["./module-load.js",[["load",[e=>v=e]]]],["./module-link.js",[["link",[e=>k=e]]]],["./module-proxy.js",[["getDeferredExports",[e=>j=e]]]],["./error/assert.js",[["assert",[e=>A=e]]]],["./compartment-evaluate.js",[["compartmentEvaluate",[e=>T=e]]]],["./make-safe-evaluator.js",[["makeSafeEvaluator",[e=>x=e]]]]]);const{quote:I}=A,O=new a,C=new a,_=e=>{const{importHook:t,resolveHook:r}=d(C,e);if("function"!=typeof t||"function"!=typeof r)throw new s("Compartment must be constructed with an importHook and a resolveHook for it to be able to load modules")},F=function(e={},t={},r={}){throw new s("Compartment.prototype.constructor is not a valid constructor.")};r.InertCompartment(F);const V=(e,t)=>{const{execute:r,exportsProxy:o}=k(C,O,e,t);return r(),o},N={constructor:F,get globalThis(){return d(C,this).globalObject},get name(){return d(C,this).name},evaluate(e,t={}){const r=d(C,this);return T(r,e,t)},toString:()=>"[object Compartment]",__isKnownScopeProxy__(e){const{knownScopeProxies:t}=d(C,this);return E(t,e)},module(e){if("string"!=typeof e)throw new s("first argument of module() must be a string");_(this);const{exportsProxy:t}=j(this,d(C,this),O,e);return t},async import(e){if("string"!=typeof e)throw new s("first argument of import() must be a string");return _(this),g(v(C,O,this,e),(()=>({namespace:V(this,e)})))},async load(e){if("string"!=typeof e)throw new s("first argument of load() must be a string");return _(this),v(C,O,this,e)},importNow(e){if("string"!=typeof e)throw new s("first argument of importNow() must be a string");return _(this),V(this,e)}};r.CompartmentPrototype(N),m(F,{prototype:{value:N}}),r.makeCompartmentConstructor(((e,t,r)=>{function a(a={},m={},g={}){if(void 0===new.target)throw new s("Class constructor Compartment cannot be invoked without 'new'");const{name:E="<unknown>",transforms:v=[],__shimTransforms__:k=[],globalLexicals:j={},resolveHook:A,importHook:T,moduleMapHook:_}=g,F=[...v,...k],V=new o,N=new o,M=new o;for(const[e,t]of u(m||{})){if("string"==typeof t)throw new s(`Cannot map module ${I(e)} to ${I(t)} in parent compartment`);if(void 0===d(O,t))throw n(`Cannot map module ${I(e)} because it has no known compartment in this realm`)}const R=c(f(j),(e=>!h(e)));if(R.length)throw new s(`Cannot create compartment with invalid names for global lexicals: ${l(R,", ")}; these names would not be lexically mentionable`);const $=y({...j}),L={};w(L);const G=new i,{safeEvaluate:D}=x({globalObject:L,localObject:$,globalTransforms:F,sloppyGlobalsMode:!1,knownScopeProxies:G});b(L,{intrinsics:t,newGlobalPropertyNames:S,makeCompartmentConstructor:e,safeEvaluate:D,markVirtualizedNativeFunction:r}),p(L,a),P(C,this,{name:E,globalTransforms:F,globalObject:L,knownScopeProxies:G,globalLexicals:$,safeEvaluate:D,resolveHook:A,importHook:T,moduleMap:m,moduleMapHook:_,moduleRecords:V,__shimTransforms__:k,deferredExports:M,instances:N})}return a.prototype=N,a}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,P,E,w,b;e([["./commons.js",[["TypeError",[e=>o=e]],["WeakSet",[e=>n=e]],["arrayFilter",[e=>s=e]],["defineProperty",[e=>a=e]],["entries",[e=>i=e]],["freeze",[e=>c=e]],["getOwnPropertyDescriptor",[e=>l=e]],["getOwnPropertyDescriptors",[e=>p=e]],["globalThis",[e=>m=e]],["is",[e=>u=e]],["isObject",[e=>y=e]],["objectHasOwnProperty",[e=>f=e]],["values",[e=>g=e]],["weaksetHas",[e=>d=e]]]],["./whitelist.js",[["constantProperties",[e=>P=e]],["sharedGlobalPropertyNames",[e=>E=e]],["universalPropertyNames",[e=>w=e]],["whitelist",[e=>b=e]]]]]);const h=e=>"function"==typeof e;function S(e,t,r){if(f(e,t)){const n=l(e,t);if(!u(n.value,r.value)||n.get!==r.get||n.set!==r.set||n.writable!==r.writable||n.enumerable!==r.enumerable||n.configurable!==r.configurable)throw new o("Conflicting definitions of "+t)}a(e,t,r)}function v(e,t){const r={__proto__:null};for(const[o,n]of i(t))f(e,o)&&(r[n]=e[o]);return r}const k=()=>{const e={__proto__:null};let t;const r=t=>{!function(e,t){for(const[r,o]of i(t))S(e,r,o)}(e,p(t))};c(r);const a=()=>{for(const[t,r]of i(e)){if(!y(r))continue;if(!f(r,"prototype"))continue;const n=b[t];if("object"!=typeof n)throw new o("Expected permit object at whitelist."+t);const s=n.prototype;if(!s)throw new o(t+".prototype property not whitelisted");if("string"!=typeof s||!f(b,s))throw new o(`Unrecognized ${t}.prototype whitelist entry`);const a=r.prototype;if(f(e,s)){if(e[s]!==a)throw new o("Conflicting bindings of "+s)}else e[s]=a}};c(a);const l=()=>(c(e),t=new n(s(g(e),h)),e);c(l);const u=e=>{if(!t)throw new o("isPseudoNative can only be called after finalIntrinsics");return d(t,e)};c(u);const E={addIntrinsics:r,completePrototypes:a,finalIntrinsics:l,isPseudoNative:u};return c(E),r(P),r(v(m,w)),E};r.makeIntrinsicsCollector(k),r.getGlobalIntrinsics((e=>{const{addIntrinsics:t,finalIntrinsics:r}=k();return t(v(e,E)),r()}))},({imports:e,liveVar:t,onceVar:r})=>{e([]),r.minEnablements({"%ObjectPrototype%":{toString:!0},"%FunctionPrototype%":{toString:!0},"%ErrorPrototype%":{name:!0}});const o={"%ObjectPrototype%":{toString:!0,valueOf:!0},"%ArrayPrototype%":{toString:!0,push:!0},"%FunctionPrototype%":{constructor:!0,bind:!0,toString:!0},"%ErrorPrototype%":{constructor:!0,message:!0,name:!0,toString:!0},"%TypeErrorPrototype%":{constructor:!0,message:!0,name:!0},"%SyntaxErrorPrototype%":{message:!0,name:!0},"%RangeErrorPrototype%":{message:!0,name:!0},"%URIErrorPrototype%":{message:!0,name:!0},"%EvalErrorPrototype%":{message:!0,name:!0},"%ReferenceErrorPrototype%":{message:!0,name:!0},"%PromisePrototype%":{constructor:!0},"%TypedArrayPrototype%":"*","%Generator%":{constructor:!0,name:!0,toString:!0},"%IteratorPrototype%":{toString:!0}};r.moderateEnablements(o);const n={...o,"%ObjectPrototype%":"*","%TypedArrayPrototype%":"*"};r.severeEnablements(n)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,P;e([["./commons.js",[["Set",[e=>o=e]],["String",[e=>n=e]],["TypeError",[e=>s=e]],["arrayForEach",[e=>a=e]],["defineProperty",[e=>i=e]],["getOwnPropertyDescriptor",[e=>c=e]],["getOwnPropertyDescriptors",[e=>l=e]],["getOwnPropertyNames",[e=>p=e]],["isObject",[e=>m=e]],["objectHasOwnProperty",[e=>u=e]],["ownKeys",[e=>y=e]],["setHas",[e=>f=e]]]],["./enablements.js",[["minEnablements",[e=>g=e]],["moderateEnablements",[e=>d=e]],["severeEnablements",[e=>P=e]]]]]),r.default((function(e,t,r=[]){const E=new o(r);function w(e,t,r,o){if("value"in o&&o.configurable){const{value:c}=o;function a(){return c}i(a,"originalValue",{value:c,writable:!1,enumerable:!1,configurable:!1});const l=f(E,r);i(t,r,{get:a,set:function(o){if(t===this)throw new s(`Cannot assign to read only property '${n(r)}' of '${e}'`);u(this,r)?this[r]=o:(l&&console.error(new s("Override property "+r)),i(this,r,{value:o,writable:!0,enumerable:!0,configurable:!0}))},enumerable:o.enumerable,configurable:o.configurable})}}function b(e,t,r){const o=c(t,r);o&&w(e,t,r,o)}function h(e,t){const r=l(t);r&&a(y(r),(o=>w(e,t,o,r[o])))}let S;switch(t){case"min":S=g;break;case"moderate":S=d;break;case"severe":S=P;break;default:throw new s("unrecognized overrideTaming "+t)}!function e(t,r,o){for(const a of p(o)){const i=c(r,a);if(!i||i.get||i.set)continue;const l=`${t}.${n(a)}`,p=o[a];if(!0===p)b(l,r,a);else if("*"===p)h(l,i.value);else{if(!m(p))throw new s("Unexpected override enablement plan "+l);e(l,i.value,p)}}}("root",e,S)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a;e([["./commons.js",[["arrayPush",[e=>o=e]],["arraySlice",[e=>n=e]],["freeze",[e=>s=e]]]],["./error/assert.js",[["assert",[e=>a=e]]]]]);const{details:i,quote:c}=a,l=e=>{const t=[],r=(r,n)=>{a.typeof(r,"string",i`Environment option name ${c(r)} must be a string.`),a.typeof(n,"string",i`Environment option default setting ${c(n)} must be a string.`);let s=n;const l=e.process;if(l&&"object"==typeof l){const e=l.env;if(e&&"object"==typeof e&&r in e){o(t,r);const n=e[r];a.typeof(n,"string",i`Environment option named ${c(r)}, if present, must have a corresponding string value, got ${c(n)}`),s=n}}return a(void 0===s||"string"==typeof s,i`Environment option value ${c(s)}, if present, must be a string.`),s};s(r);const l=()=>s(n(t));return s(l),{getEnvironmentOption:r,getCapturedEnvironmentOptionNames:l}};r.makeEnvironmentCaptor(l),s(l)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y;e([["../commons.js",[["WeakSet",[e=>o=e]],["arrayFilter",[e=>n=e]],["arrayMap",[e=>s=e]],["arrayPush",[e=>a=e]],["defineProperty",[e=>i=e]],["freeze",[e=>c=e]],["fromEntries",[e=>l=e]],["isError",[e=>p=e]],["stringEndsWith",[e=>m=e]],["weaksetAdd",[e=>u=e]],["weaksetHas",[e=>y=e]]]],["./types.js",[]],["./internal-types.js",[]]]);const f=c([["debug","debug"],["log","log"],["info","info"],["warn","warn"],["error","error"],["trace","log"],["dirxml","log"],["group","log"],["groupCollapsed","log"]]),g=c([["assert","error"],["timeLog","log"],["clear",void 0],["count","info"],["countReset",void 0],["dir","log"],["groupEnd","log"],["table","log"],["time","info"],["timeEnd","info"],["profile",void 0],["profileEnd",void 0],["timeStamp",void 0]]),d=c([...f,...g]);r.consoleWhitelist(d);const P=(e,{shouldResetForDebugging:t=!1}={})=>{t&&e.resetErrorTagNum();let r=[];const o=l(s(d,(([e,t])=>{const o=(...t)=>{a(r,[e,...t])};return i(o,"name",{value:e}),[e,c(o)]})));c(o);const n=()=>{const e=c(r);return r=[],e};return c(n),c({loggingConsole:o,takeLog:n})};r.makeLoggingConsoleKit(P),c(P);const E={NOTE:"ERROR_NOTE:",MESSAGE:"ERROR_MESSAGE:"};c(E),r.BASE_CONSOLE_LEVEL("debug");const w=(e,t)=>{const{getStackString:r,tagError:d,takeMessageLogArgs:P,takeNoteLogArgsArray:w}=t,b=(e,t)=>s(e,(e=>p(e)?(a(t,e),`(${d(e)})`):e)),h=(t,r,o,n)=>{const s=d(t),a=r===E.MESSAGE?s+":":`${s} ${r}`,i=b(o,n);e.debug(a,...i)},S=(t,r)=>{if(0===t.length)return;if(1===t.length&&void 0===r)return void j(t[0]);let o;o=1===t.length?"Nested error":`Nested ${t.length} errors`,void 0!==r&&(o=`${o} under ${r}`),e.group(o);try{for(const e of t)j(e)}finally{e.groupEnd()}},v=new o,k=(e,t)=>{const r=[];h(e,E.NOTE,t,r),S(r,d(e))},j=t=>{if(y(v,t))return;const o=d(t);u(v,t);const n=[],s=P(t),a=w(t,k);void 0===s?e.debug(o+":",t.message):h(t,E.MESSAGE,s,n);let i=r(t);"string"==typeof i&&i.length>=1&&!m(i,"\n")&&(i+="\n"),e.debug(i);for(const e of a)h(t,E.NOTE,e,n);S(n,o)},A=s(f,(([t,r])=>{const o=(...r)=>{const o=[],n=b(r,o);e[t](...n),S(o)};return i(o,"name",{value:t}),[t,c(o)]})),T=n(g,(([t,r])=>t in e)),x=s(T,(([t,r])=>{const o=(...r)=>{e[t](...r)};return i(o,"name",{value:t}),[t,c(o)]})),I=l([...A,...x]);return c(I)};r.makeCausalConsole(w),c(w);const b=(e,t,r)=>{const o=n(d,(([t,r])=>t in e)),a=s(o,(([r,o])=>[r,c(((...n)=>{(void 0===o||t.canLog(o))&&e[r](...n)}))])),i=l(a);return c(i)};r.filterConsole(b),c(b)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a;e([["../commons.js",[["TypeError",[e=>o=e]],["globalThis",[e=>n=e]]]],["./assert.js",[["loggedErrorHandler",[e=>s=e]]]],["./console.js",[["makeCausalConsole",[e=>a=e]]]],["./types.js",[]],["./internal-types.js",[]]]);const i=console;r.tameConsole(((e="safe",t="platform",r)=>{if("safe"!==e&&"unsafe"!==e)throw new o("unrecognized consoleTaming "+e);if("unsafe"===e)return{console:i};let c;c=void 0===r?s:{...s,getStackString:r};const l=a(i,c);return"none"!==t&&void 0!==n.process&&n.process.on("uncaughtException",(e=>{l.error(e),"platform"===t||"exit"===t?n.process.exit(n.process.exitCode||-1):"abort"===t&&n.process.abort()})),"none"!==t&&void 0!==n.window&&n.window.addEventListener("error",(e=>{e.preventDefault(),l.error(e.error),"exit"!==t&&"abort"!==t||(n.window.location.href="about:blank")})),{console:l}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,P,E,w,b;e([["../commons.js",[["WeakMap",[e=>o=e]],["WeakSet",[e=>n=e]],["apply",[e=>s=e]],["arrayFilter",[e=>a=e]],["arrayJoin",[e=>i=e]],["arrayMap",[e=>c=e]],["arraySlice",[e=>l=e]],["create",[e=>p=e]],["defineProperties",[e=>m=e]],["fromEntries",[e=>u=e]],["reflectSet",[e=>y=e]],["regexpExec",[e=>f=e]],["regexpTest",[e=>g=e]],["weakmapGet",[e=>d=e]],["weakmapHas",[e=>P=e]],["weakmapSet",[e=>E=e]],["weaksetAdd",[e=>w=e]],["weaksetHas",[e=>b=e]]]]]);const h=["getTypeName","getFunctionName","getMethodName","getFileName","getLineNumber","getColumnNumber","getEvalOrigin","isToplevel","isEval","isNative","isConstructor","isAsync","getPosition","getScriptNameOrSourceURL","toString"],S=e=>{const t=u(c(h,(t=>{const r=e[t];return[t,()=>s(r,e,[])]})));return p(t,{})},v=[/\/node_modules\//,/^(?:node:)?internal\//,/\/packages\/ses\/src\/error\/assert.js$/,/\/packages\/eventual-send\/src\//],k=e=>{if(!e)return!0;for(const t of v)if(g(t,e))return!1;return!0};r.filterFileName(k);const j=[/^((?:.*[( ])?)[:/\w_-]*\/\.\.\.\/(.+)$/,/^((?:.*[( ])?)[:/\w_-]*\/(packages\/.+)$/],A=e=>{for(const t of j){const r=f(t,e);if(r)return i(l(r,1),"")}return e};r.shortenCallSiteString(A),r.tameV8ErrorConstructor(((e,t,r,l)=>{const p=e.captureStackTrace,u=e=>"verbose"===l||k(e.getFileName()),f=e=>{let t=""+e;return"concise"===l&&(t=A(t)),"\n  at "+t},g=(e,t)=>i(c(a(t,u),f),""),h=new o,v={captureStackTrace(t,r=v.captureStackTrace){"function"!=typeof p?y(t,"stack",""):s(p,e,[t,r])},getStackString(e){P(h,e)||e.stack;const t=d(h,e);return t?g(0,t):""},prepareStackTrace:(e,t)=>(E(h,e,t),"unsafe"===r?`${e}${g(0,t)}`:"")},j=v.prepareStackTrace;e.prepareStackTrace=j;const T=new n([j]);return m(t,{captureStackTrace:{value:v.captureStackTrace,writable:!0,enumerable:!1,configurable:!0},prepareStackTrace:{get:()=>e.prepareStackTrace,set(t){if("function"==typeof t){const r=(e=>{if(b(T,e))return e;const t={prepareStackTrace:(t,r)=>(E(h,t,r),e(t,(e=>c(e,S))(r)))};return w(T,t.prepareStackTrace),t.prepareStackTrace})(t);e.prepareStackTrace=r}else e.prepareStackTrace=j},enumerable:!1,configurable:!0}}),v.getStackString}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m;e([["../commons.js",[["FERAL_ERROR",[e=>o=e]],["TypeError",[e=>n=e]],["apply",[e=>s=e]],["construct",[e=>a=e]],["defineProperties",[e=>i=e]],["setPrototypeOf",[e=>c=e]],["getOwnPropertyDescriptor",[e=>l=e]]]],["../whitelist.js",[["NativeErrors",[e=>p=e]]]],["./tame-v8-error-constructor.js",[["tameV8ErrorConstructor",[e=>m=e]]]]]);const u=l(o.prototype,"stack"),y=u&&u.get,f=e=>"function"==typeof y?s(y,e,[]):"stack"in e?""+e.stack:"";r.default((function(e="safe",t="concise"){if("safe"!==e&&"unsafe"!==e)throw new n("unrecognized errorTaming "+e);if("concise"!==t&&"verbose"!==t)throw new n("unrecognized stackFiltering "+t);const r=o.prototype,l="function"==typeof o.captureStackTrace?"v8":"unknown",{captureStackTrace:u}=o,y=(e={})=>{const t=function(...e){let r;return r=void 0===new.target?s(o,this,e):a(o,e,new.target),"v8"===l&&s(u,o,[r,t]),r};return i(t,{length:{value:1},prototype:{value:r,writable:!1,enumerable:!1,configurable:!1}}),t},g=y({powers:"original"}),d=y({powers:"none"});i(r,{constructor:{value:d}});for(const e of p)c(e,d);i(g,{stackTraceLimit:{get(){if("number"==typeof o.stackTraceLimit)return o.stackTraceLimit},set(e){"number"==typeof e&&("number"!=typeof o.stackTraceLimit||(o.stackTraceLimit=e))},enumerable:!1,configurable:!0}}),i(d,{stackTraceLimit:{get(){},set(e){},enumerable:!1,configurable:!0}});let P=f;return"v8"===l&&(P=m(o,g,e,t)),{"%InitialGetStackString%":P,"%InitialError%":g,"%SharedError%":d}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,P;function E(e){return l(e).constructor}e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["Float32Array",[e=>n=e]],["Map",[e=>s=e]],["Set",[e=>a=e]],["String",[e=>i=e]],["getOwnPropertyDescriptor",[e=>c=e]],["getPrototypeOf",[e=>l=e]],["iterateArray",[e=>p=e]],["iterateMap",[e=>m=e]],["iterateSet",[e=>u=e]],["iterateString",[e=>y=e]],["matchAllRegExp",[e=>f=e]],["matchAllSymbol",[e=>g=e]],["regexpPrototype",[e=>d=e]]]],["./compartment-shim.js",[["InertCompartment",[e=>P=e]]]]]),r.getAnonymousIntrinsics((()=>{const e=o.prototype.constructor,t=c(function(){return arguments}(),"callee").get,r=y(new i),w=l(r),b=d[g]&&f(/./),h=b&&l(b),S=p([]),v=l(S),k=l(n),j=m(new s),A=l(j),T=u(new a),x=l(T),I=l(v),O=E((function*(){})),C=O.prototype,_=E((async function*(){})),F=_.prototype,V=F.prototype,N=l(V);return{"%InertFunction%":e,"%ArrayIteratorPrototype%":v,"%InertAsyncFunction%":E((async function(){})),"%AsyncGenerator%":F,"%InertAsyncGeneratorFunction%":_,"%AsyncGeneratorPrototype%":V,"%AsyncIteratorPrototype%":N,"%Generator%":C,"%InertGeneratorFunction%":O,"%IteratorPrototype%":I,"%MapIteratorPrototype%":A,"%RegExpStringIteratorPrototype%":h,"%SetIteratorPrototype%":x,"%StringIteratorPrototype%":w,"%ThrowTypeError%":t,"%TypedArray%":k,"%InertCompartment%":P}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,P,E,w,b,h;e([["./commons.js",[["Set",[e=>o=e]],["String",[e=>n=e]],["TypeError",[e=>s=e]],["WeakMap",[e=>a=e]],["WeakSet",[e=>i=e]],["arrayForEach",[e=>c=e]],["freeze",[e=>l=e]],["getOwnPropertyDescriptors",[e=>p=e]],["getPrototypeOf",[e=>m=e]],["isObject",[e=>u=e]],["objectHasOwnProperty",[e=>y=e]],["ownKeys",[e=>f=e]],["setAdd",[e=>g=e]],["setForEach",[e=>d=e]],["setHas",[e=>P=e]],["weakmapGet",[e=>E=e]],["weakmapSet",[e=>w=e]],["weaksetAdd",[e=>b=e]],["weaksetHas",[e=>h=e]]]]]),r.makeHardener((()=>{const e=new i,{harden:t}={harden(t){const r=new o,i=new a;function S(t,o){if(!u(t))return;const n=typeof t;if("object"!==n&&"function"!==n)throw new s("Unexpected typeof: "+n);h(e,t)||P(r,t)||(g(r,t),w(i,t,o))}return S(t),d(r,(function(e){l(e);const t=E(i,e)||"unknown",r=p(e);S(m(e),t+".__proto__"),c(f(r),(e=>{const o=`${t}.${n(e)}`,s=r[e];y(s,"value")?S(s.value,""+o):(S(s.get,o+"(get)"),S(s.set,o+"(set)"))}))})),d(r,(function(t){b(e,t)})),t}};return t}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i;e([["./commons.js",[["Date",[e=>o=e]],["TypeError",[e=>n=e]],["apply",[e=>s=e]],["construct",[e=>a=e]],["defineProperties",[e=>i=e]]]]]),r.default((function(e="safe"){if("safe"!==e&&"unsafe"!==e)throw new n("unrecognized dateTaming "+e);const t=o,r=t.prototype,c=({powers:e="none"}={})=>{let n;return n="original"===e?function(...e){return void 0===new.target?s(t,void 0,e):a(t,e,new.target)}:function(...e){return void 0===new.target?"Invalid Date":(0===e.length&&(e=[NaN]),a(t,e,new.target))},i(n,{length:{value:7},prototype:{value:r,writable:!1,enumerable:!1,configurable:!1},parse:{value:o.parse,writable:!0,enumerable:!1,configurable:!0},UTC:{value:o.UTC,writable:!0,enumerable:!1,configurable:!0}}),n},l=c({powers:"original"}),p=c({powers:"none"});return i(l,{now:{value:o.now,writable:!0,enumerable:!1,configurable:!0}}),i(p,{now:{value:()=>NaN,writable:!0,enumerable:!1,configurable:!0}}),i(r,{constructor:{value:p}}),{"%InitialDate%":l,"%SharedDate%":p}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a;function i(e="safe"){if("safe"!==e&&"unsafe"!==e)throw new o("unrecognized domainTaming "+e);if("unsafe"!==e&&"object"==typeof n.process&&null!==n.process){const e=s(n.process,"domain");if(void 0!==e&&void 0!==e.get)throw new o("SES failed to lockdown, Node.js domains have been initialized (SES_NO_DOMAINS)");a(n.process,"domain",{value:null,configurable:!1,writable:!1,enumerable:!1})}}e([["./commons.js",[["TypeError",[e=>o=e]],["globalThis",[e=>n=e]],["getOwnPropertyDescriptor",[e=>s=e]],["defineProperty",[e=>a=e]]]]]),Object.defineProperty(i,"name",{value:"tameDomains"}),r.tameDomains(i)},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c;e([["./commons.js",[["FERAL_FUNCTION",[e=>o=e]],["SyntaxError",[e=>n=e]],["TypeError",[e=>s=e]],["defineProperties",[e=>a=e]],["getPrototypeOf",[e=>i=e]],["setPrototypeOf",[e=>c=e]]]]]),r.default((function(){try{o.prototype.constructor("return 1")}catch(e){return{}}const e={};function t(t,r,l){let p;try{p=(0,eval)(l)}catch(e){if(e instanceof n)return;throw e}const m=i(p),u=function(){throw new s("Function.prototype.constructor is not a valid constructor.")};a(u,{prototype:{value:m},name:{value:t,writable:!1,enumerable:!1,configurable:!0}}),a(m,{constructor:{value:u}}),u!==o.prototype.constructor&&c(u,o.prototype.constructor),e[r]=u}return t("Function","%InertFunction%","(function(){})"),t("GeneratorFunction","%InertGeneratorFunction%","(function*(){})"),t("AsyncFunction","%InertAsyncFunction%","(async function(){})"),t("AsyncGeneratorFunction","%InertAsyncGeneratorFunction%","(async function*(){})"),e}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m;e([["./commons.js",[["WeakSet",[e=>o=e]],["defineProperty",[e=>n=e]],["freeze",[e=>s=e]],["functionPrototype",[e=>a=e]],["functionToString",[e=>i=e]],["stringEndsWith",[e=>c=e]],["weaksetAdd",[e=>l=e]],["weaksetHas",[e=>p=e]]]]]),r.tameFunctionToString((()=>{if(void 0===m){const e=new o;n(a,"toString",{value:{toString(){const t=i(this,[]);return c(t,") { [native code] }")||!p(e,this)?t:`function ${this.name}() { [native code] }`}}.toString}),m=s((t=>l(e,t)))}return m}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l;e([["./commons.js",[["String",[e=>o=e]],["TypeError",[e=>n=e]],["defineProperty",[e=>s=e]],["getOwnPropertyNames",[e=>a=e]],["isObject",[e=>i=e]],["regexpExec",[e=>c=e]]]],["./error/assert.js",[["assert",[e=>l=e]]]]]);const{details:p,quote:m}=l,u=/^(\w*[a-z])Locale([A-Z]\w*)$/,y={localeCompare(e){if(null==this)throw new n('Cannot localeCompare with null or undefined "this" value');const t=""+this;return t<(e=""+e)?-1:t>e?1:(l(t===e,p`expected ${m(t)} and ${m(e)} to compare`),0)}}.localeCompare;r.default((function(e,t="safe"){if("safe"!==t&&"unsafe"!==t)throw new n("unrecognized localeTaming "+t);if("unsafe"!==t){s(o.prototype,"localeCompare",{value:y});for(const t of a(e)){const r=e[t];if(i(r))for(const e of a(r)){const t=c(u,e);if(t){l("function"==typeof r[e],p`expected ${m(e)} to be a function`);const o=`${t[1]}${t[2]}`,n=r[o];l("function"==typeof n,p`function ${m(o)} not found`),s(r,e,{value:n})}}}}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i;e([["./commons.js",[["Math",[e=>o=e]],["TypeError",[e=>n=e]],["create",[e=>s=e]],["getOwnPropertyDescriptors",[e=>a=e]],["objectPrototype",[e=>i=e]]]]]),r.default((function(e="safe"){if("safe"!==e&&"unsafe"!==e)throw new n("unrecognized mathTaming "+e);const t=o,r=t,{random:c,...l}=a(t);return{"%InitialMath%":r,"%SharedMath%":s(i,l)}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c;e([["./commons.js",[["FERAL_REG_EXP",[e=>o=e]],["TypeError",[e=>n=e]],["construct",[e=>s=e]],["defineProperties",[e=>a=e]],["getOwnPropertyDescriptor",[e=>i=e]],["speciesSymbol",[e=>c=e]]]]]),r.default((function(e="safe"){if("safe"!==e&&"unsafe"!==e)throw new n("unrecognized regExpTaming "+e);const t=o.prototype,r=(e={})=>{const r=function(...e){return void 0===new.target?o(...e):s(o,e,new.target)};return a(r,{length:{value:2},prototype:{value:t,writable:!1,enumerable:!1,configurable:!1},[c]:i(o,c)}),r},l=r(),p=r();return"unsafe"!==e&&delete t.compile,a(t,{constructor:{value:p}}),{"%InitialRegExp%":l,"%SharedRegExp%":p}}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f;function g(e,t){if("string"==typeof t)return t;if("symbol"==typeof t)return"@@"+f(a(t),14,-1);throw new i(`Unexpected property name type ${e} ${t}`)}e([["./whitelist.js",[["whitelist",[e=>o=e]],["FunctionInstance",[e=>n=e]],["isAccessorPermit",[e=>s=e]]]],["./commons.js",[["String",[e=>a=e]],["TypeError",[e=>i=e]],["arrayIncludes",[e=>c=e]],["getOwnPropertyDescriptor",[e=>l=e]],["getPrototypeOf",[e=>p=e]],["isObject",[e=>m=e]],["objectHasOwnProperty",[e=>u=e]],["ownKeys",[e=>y=e]],["stringSlice",[e=>f=e]]]]]),r.default((function(e,t){const r=["undefined","boolean","number","string","symbol"];function a(t,o,n,s){if("object"==typeof s)return P(t,o,s),!0;if(!1===s)return!1;if("string"==typeof s)if("prototype"===n||"constructor"===n){if(u(e,s)){if(o!==e[s])throw new i("Does not match whitelist "+t);return!0}}else if(c(r,s)){if(typeof o!==s)throw new i(`At ${t} expected ${s} not ${typeof o}`);return!0}throw new i(`Unexpected whitelist permit ${s} at ${t}`)}function f(e,t,r,o){const n=l(t,r);if(u(n,"value")){if(s(o))throw new i("Accessor expected at "+e);return a(e,n.value,r,o)}if(!s(o))throw new i("Accessor not expected at "+e);return a(e+"<get>",n.get,r,o.get)&&a(e+"<set>",n.set,r,o.set)}function d(e,r,o){const s="__proto__"===o?"--proto--":o;return u(r,s)?r[s]:"function"==typeof e&&(t(e),u(n,s))?n[s]:void 0}function P(t,r,o){if(void 0!==r){!function(t,r,o){if(!m(r))throw new i(`Object expected: ${t}, ${r}, ${o}`);const n=p(r);if(null!==n||null!==o){if(void 0!==o&&"string"!=typeof o)throw new i(`Malformed whitelist permit ${t}.__proto__`);if(n!==e[o||"%ObjectPrototype%"])throw new i(`Unexpected intrinsic ${t}.__proto__ at ${o}`)}}(t,r,o["[[Proto]]"]);for(const e of y(r)){const n=g(t,e),s=`${t}.${n}`,a=d(r,o,n);if(!a||!f(s,r,e,a)){!1!==a&&console.warn("Removing "+s);try{delete r[e]}catch(t){throw e in r?console.error("failed to delete "+s,t):console.error(`deleting ${s} threw`,t),t}}}}}P("intrinsics",e,o)}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p,m,u,y,f,g,d,P,E,w,b,h,S,v,k,j,A,T,x,I,O,C,_;e([["./commons.js",[["TypeError",[e=>o=e]],["arrayFilter",[e=>n=e]],["arrayMap",[e=>s=e]],["globalThis",[e=>a=e]],["is",[e=>i=e]],["ownKeys",[e=>c=e]],["stringSplit",[e=>l=e]]]],["./error/stringify-utils.js",[["enJoin",[e=>p=e]]]],["./make-hardener.js",[["makeHardener",[e=>m=e]]]],["./intrinsics.js",[["makeIntrinsicsCollector",[e=>u=e]]]],["./whitelist-intrinsics.js",[["default",[e=>y=e]]]],["./tame-function-constructors.js",[["default",[e=>f=e]]]],["./tame-date-constructor.js",[["default",[e=>g=e]]]],["./tame-math-object.js",[["default",[e=>d=e]]]],["./tame-regexp-constructor.js",[["default",[e=>P=e]]]],["./enable-property-overrides.js",[["default",[e=>E=e]]]],["./tame-locale-methods.js",[["default",[e=>w=e]]]],["./global-object.js",[["setGlobalObjectConstantProperties",[e=>b=e]],["setGlobalObjectMutableProperties",[e=>h=e]]]],["./make-safe-evaluator.js",[["makeSafeEvaluator",[e=>S=e]]]],["./whitelist.js",[["initialGlobalPropertyNames",[e=>v=e]]]],["./tame-function-tostring.js",[["tameFunctionToString",[e=>k=e]]]],["./tame-domains.js",[["tameDomains",[e=>j=e]]]],["./error/tame-console.js",[["tameConsole",[e=>A=e]]]],["./error/tame-error-constructor.js",[["default",[e=>T=e]]]],["./error/assert.js",[["assert",[e=>x=e]],["makeAssert",[e=>I=e]]]],["./environment-options.js",[["makeEnvironmentCaptor",[e=>O=e]]]],["./get-anonymous-intrinsics.js",[["getAnonymousIntrinsics",[e=>C=e]]]],["./compartment-shim.js",[["makeCompartmentConstructor",[e=>_=e]]]]]);const{details:F,quote:V}=x;let N;const M=m(),R=(e={})=>{const{getEnvironmentOption:t,getCapturedEnvironmentOptionNames:r}=O(a),{errorTaming:m=t("LOCKDOWN_ERROR_TAMING","safe"),errorTrapping:R=t("LOCKDOWN_ERROR_TRAPPING","platform"),regExpTaming:$=t("LOCKDOWN_REGEXP_TAMING","safe"),localeTaming:L=t("LOCKDOWN_LOCALE_TAMING","safe"),consoleTaming:G=t("LOCKDOWN_CONSOLE_TAMING","safe"),overrideTaming:D=t("LOCKDOWN_OVERRIDE_TAMING","moderate"),stackFiltering:U=t("LOCKDOWN_STACK_FILTERING","concise"),domainTaming:H=t("LOCKDOWN_DOMAIN_TAMING","safe"),overrideDebug:W=n(l(t("LOCKDOWN_OVERRIDE_DEBUG",""),","),(e=>""!==e)),__allowUnsafeMonkeyPatching__:z=t("__LOCKDOWN_ALLOW_UNSAFE_MONKEY_PATCHING__","safe"),dateTaming:B="safe",mathTaming:J="safe",...K}=e,q=r();q.length>0&&console.warn("SES Lockdown using options from environment variables "+p(s(q,V),"and"));const Y=c(K);if(x(0===Y.length,F`lockdown(): non supported option ${V(Y)}`),x(void 0===N,`Already locked down at ${N} (SES_ALREADY_LOCKED_DOWN)`,o),N=new o("Prior lockdown (SES_ALREADY_LOCKED_DOWN)"),N.stack,a.Function.prototype.constructor!==a.Function&&"function"==typeof a.harden&&"function"==typeof a.lockdown&&a.Date.prototype.constructor!==a.Date&&"function"==typeof a.Date.now&&i(a.Date.prototype.constructor.now(),NaN))throw new o("Already locked down but not by this SES instance (SES_MULTIPLE_INSTANCES)");j(H);const{addIntrinsics:X,completePrototypes:Z,finalIntrinsics:Q}=u();X({harden:M}),X(f()),X(g(B)),X(T(m,U)),X(d(J)),X(P($)),X(C()),Z();const ee=Q();let te;"unsafe"!==m&&(te=ee["%InitialGetStackString%"]);const re=A(G,R,te);a.console=re.console,"unsafe"===m&&a.assert===x&&(a.assert=I(void 0,!0)),w(ee,L);const oe=k();y(ee,oe),b(a);const{safeEvaluate:ne}=S({globalObject:a});return h(a,{intrinsics:ee,newGlobalPropertyNames:v,makeCompartmentConstructor:_,safeEvaluate:ne,markVirtualizedNativeFunction:oe}),function(){return E(ee,D,W),"unsafe"!==z&&M(ee),a.harden=M,!0}};r.repairIntrinsics(R),r.lockdown(((e={})=>{R(e)()}))},({imports:e,liveVar:t,onceVar:r})=>{let o,n,s,a,i,c,l,p;if(e([["./src/commons.js",[["globalThis",[e=>o=e]],["TypeError",[e=>n=e]],["assign",[e=>s=e]]]],["./src/tame-function-tostring.js",[["tameFunctionToString",[e=>a=e]]]],["./src/intrinsics.js",[["getGlobalIntrinsics",[e=>i=e]]]],["./src/lockdown-shim.js",[["lockdown",[e=>c=e]]]],["./src/compartment-shim.js",[["makeCompartmentConstructor",[e=>l=e]]]],["./src/error/assert.js",[["assert",[e=>p=e]]]]]),function(){return this}())throw new n("SES failed to initialize, sloppy mode (SES_NO_SLOPPY)");const m=a(),u=l(l,i(o),m);s(o,{lockdown:c,Compartment:u,assert:p})}];function t(e,t){const r=[];return{get:function(){return t},set:function(e){t=e;for(const e of r)e(t)},observe:function(e){r.push(e),e(t)},enumerable:!0}}const r=[{globalThis:t(),Array:t(),Date:t(),Float32Array:t(),JSON:t(),Map:t(),Math:t(),Object:t(),Promise:t(),Proxy:t(),Reflect:t(),FERAL_REG_EXP:t(),Set:t(),String:t(),WeakMap:t(),WeakSet:t(),FERAL_ERROR:t(),RangeError:t(),ReferenceError:t(),SyntaxError:t(),TypeError:t(),assign:t(),create:t(),defineProperties:t(),entries:t(),freeze:t(),getOwnPropertyDescriptor:t(),getOwnPropertyDescriptors:t(),getOwnPropertyNames:t(),getPrototypeOf:t(),is:t(),isExtensible:t(),keys:t(),objectPrototype:t(),seal:t(),setPrototypeOf:t(),values:t(),speciesSymbol:t(),toStringTagSymbol:t(),iteratorSymbol:t(),matchAllSymbol:t(),stringifyJson:t(),fromEntries:t(),defineProperty:t(),apply:t(),construct:t(),reflectGet:t(),reflectGetOwnPropertyDescriptor:t(),reflectHas:t(),reflectIsExtensible:t(),ownKeys:t(),reflectPreventExtensions:t(),reflectSet:t(),isArray:t(),arrayPrototype:t(),mapPrototype:t(),proxyRevocable:t(),regexpPrototype:t(),setPrototype:t(),stringPrototype:t(),weakmapPrototype:t(),weaksetPrototype:t(),functionPrototype:t(),promisePrototype:t(),uncurryThis:t(),objectHasOwnProperty:t(),arrayFilter:t(),arrayForEach:t(),arrayIncludes:t(),arrayJoin:t(),arrayMap:t(),arrayPop:t(),arrayPush:t(),arraySlice:t(),arraySome:t(),arraySort:t(),iterateArray:t(),mapSet:t(),mapGet:t(),mapHas:t(),iterateMap:t(),setAdd:t(),setForEach:t(),setHas:t(),iterateSet:t(),regexpTest:t(),regexpExec:t(),matchAllRegExp:t(),stringEndsWith:t(),stringIncludes:t(),stringIndexOf:t(),stringMatch:t(),stringReplace:t(),stringSearch:t(),stringSlice:t(),stringSplit:t(),stringStartsWith:t(),iterateString:t(),weakmapDelete:t(),weakmapGet:t(),weakmapHas:t(),weakmapSet:t(),weaksetAdd:t(),weaksetGet:t(),weaksetHas:t(),functionToString:t(),promiseAll:t(),promiseCatch:t(),promiseThen:t(),getConstructorOf:t(),immutableObject:t(),isObject:t(),isError:t(),FERAL_EVAL:t(),FERAL_FUNCTION:t()},{},{an:t(),bestEffortStringify:t(),enJoin:t()},{},{unredactedDetails:t(),loggedErrorHandler:t(),makeAssert:t(),assert:t()},{makeEvaluateFactory:t()},{isValidIdentifierName:t(),getScopeConstants:t()},{createScopeHandler:t()},{getSourceURL:t()},{rejectHtmlComments:t(),evadeHtmlCommentTest:t(),rejectImportExpressions:t(),evadeImportExpressionTest:t(),rejectSomeDirectEvalExpressions:t(),mandatoryTransforms:t(),applyTransforms:t()},{makeSafeEvaluator:t()},{provideCompartmentEvaluator:t(),compartmentEvaluate:t()},{makeEvalFunction:t()},{makeFunctionConstructor:t()},{constantProperties:t(),universalPropertyNames:t(),initialGlobalPropertyNames:t(),sharedGlobalPropertyNames:t(),uniqueGlobalPropertyNames:t(),NativeErrors:t(),FunctionInstance:t(),isAccessorPermit:t(),whitelist:t()},{setGlobalObjectConstantProperties:t(),setGlobalObjectMutableProperties:t()},{makeAlias:t(),load:t()},{deferExports:t(),getDeferredExports:t()},{makeThirdPartyModuleInstance:t(),makeModuleInstance:t()},{link:t(),instantiate:t()},{InertCompartment:t(),CompartmentPrototype:t(),makeCompartmentConstructor:t()},{makeIntrinsicsCollector:t(),getGlobalIntrinsics:t()},{minEnablements:t(),moderateEnablements:t(),severeEnablements:t()},{default:t()},{makeEnvironmentCaptor:t()},{makeLoggingConsoleKit:t(),makeCausalConsole:t(),filterConsole:t(),consoleWhitelist:t(),BASE_CONSOLE_LEVEL:t()},{tameConsole:t()},{filterFileName:t(),shortenCallSiteString:t(),tameV8ErrorConstructor:t()},{default:t()},{getAnonymousIntrinsics:t()},{makeHardener:t()},{default:t()},{tameDomains:t()},{default:t()},{tameFunctionToString:t()},{default:t()},{default:t()},{default:t()},{default:t()},{repairIntrinsics:t(),lockdown:t()},{}],o=r.map((e=>Object.create(null,e)));for(let e=0;e<o.length;e+=1)r[e]["*"]=t(0,o[e]);function n(e,t,o){for(const[n,s]of e.get(t)){const e=r[o][n];if(void 0===e)throw new ReferenceError("Cannot import name "+n);for(const t of s)e.observe(t)}}e[0]({imports(e){new Map(e)},liveVar:{},onceVar:{universalThis:r[0].globalThis.set,Array:r[0].Array.set,Date:r[0].Date.set,Float32Array:r[0].Float32Array.set,JSON:r[0].JSON.set,Map:r[0].Map.set,Math:r[0].Math.set,Object:r[0].Object.set,Promise:r[0].Promise.set,Proxy:r[0].Proxy.set,Reflect:r[0].Reflect.set,FERAL_REG_EXP:r[0].FERAL_REG_EXP.set,Set:r[0].Set.set,String:r[0].String.set,WeakMap:r[0].WeakMap.set,WeakSet:r[0].WeakSet.set,FERAL_ERROR:r[0].FERAL_ERROR.set,RangeError:r[0].RangeError.set,ReferenceError:r[0].ReferenceError.set,SyntaxError:r[0].SyntaxError.set,TypeError:r[0].TypeError.set,assign:r[0].assign.set,create:r[0].create.set,defineProperties:r[0].defineProperties.set,entries:r[0].entries.set,freeze:r[0].freeze.set,getOwnPropertyDescriptor:r[0].getOwnPropertyDescriptor.set,getOwnPropertyDescriptors:r[0].getOwnPropertyDescriptors.set,getOwnPropertyNames:r[0].getOwnPropertyNames.set,getPrototypeOf:r[0].getPrototypeOf.set,is:r[0].is.set,isExtensible:r[0].isExtensible.set,keys:r[0].keys.set,objectPrototype:r[0].objectPrototype.set,seal:r[0].seal.set,setPrototypeOf:r[0].setPrototypeOf.set,values:r[0].values.set,speciesSymbol:r[0].speciesSymbol.set,toStringTagSymbol:r[0].toStringTagSymbol.set,iteratorSymbol:r[0].iteratorSymbol.set,matchAllSymbol:r[0].matchAllSymbol.set,stringifyJson:r[0].stringifyJson.set,fromEntries:r[0].fromEntries.set,defineProperty:r[0].defineProperty.set,apply:r[0].apply.set,construct:r[0].construct.set,reflectGet:r[0].reflectGet.set,reflectGetOwnPropertyDescriptor:r[0].reflectGetOwnPropertyDescriptor.set,reflectHas:r[0].reflectHas.set,reflectIsExtensible:r[0].reflectIsExtensible.set,ownKeys:r[0].ownKeys.set,reflectPreventExtensions:r[0].reflectPreventExtensions.set,reflectSet:r[0].reflectSet.set,isArray:r[0].isArray.set,arrayPrototype:r[0].arrayPrototype.set,mapPrototype:r[0].mapPrototype.set,proxyRevocable:r[0].proxyRevocable.set,regexpPrototype:r[0].regexpPrototype.set,setPrototype:r[0].setPrototype.set,stringPrototype:r[0].stringPrototype.set,weakmapPrototype:r[0].weakmapPrototype.set,weaksetPrototype:r[0].weaksetPrototype.set,functionPrototype:r[0].functionPrototype.set,promisePrototype:r[0].promisePrototype.set,uncurryThis:r[0].uncurryThis.set,objectHasOwnProperty:r[0].objectHasOwnProperty.set,arrayFilter:r[0].arrayFilter.set,arrayForEach:r[0].arrayForEach.set,arrayIncludes:r[0].arrayIncludes.set,arrayJoin:r[0].arrayJoin.set,arrayMap:r[0].arrayMap.set,arrayPop:r[0].arrayPop.set,arrayPush:r[0].arrayPush.set,arraySlice:r[0].arraySlice.set,arraySome:r[0].arraySome.set,arraySort:r[0].arraySort.set,iterateArray:r[0].iterateArray.set,mapSet:r[0].mapSet.set,mapGet:r[0].mapGet.set,mapHas:r[0].mapHas.set,iterateMap:r[0].iterateMap.set,setAdd:r[0].setAdd.set,setForEach:r[0].setForEach.set,setHas:r[0].setHas.set,iterateSet:r[0].iterateSet.set,regexpTest:r[0].regexpTest.set,regexpExec:r[0].regexpExec.set,matchAllRegExp:r[0].matchAllRegExp.set,stringEndsWith:r[0].stringEndsWith.set,stringIncludes:r[0].stringIncludes.set,stringIndexOf:r[0].stringIndexOf.set,stringMatch:r[0].stringMatch.set,stringReplace:r[0].stringReplace.set,stringSearch:r[0].stringSearch.set,stringSlice:r[0].stringSlice.set,stringSplit:r[0].stringSplit.set,stringStartsWith:r[0].stringStartsWith.set,iterateString:r[0].iterateString.set,weakmapDelete:r[0].weakmapDelete.set,weakmapGet:r[0].weakmapGet.set,weakmapHas:r[0].weakmapHas.set,weakmapSet:r[0].weakmapSet.set,weaksetAdd:r[0].weaksetAdd.set,weaksetGet:r[0].weaksetGet.set,weaksetHas:r[0].weaksetHas.set,functionToString:r[0].functionToString.set,promiseAll:r[0].promiseAll.set,promiseCatch:r[0].promiseCatch.set,promiseThen:r[0].promiseThen.set,getConstructorOf:r[0].getConstructorOf.set,immutableObject:r[0].immutableObject.set,isObject:r[0].isObject.set,isError:r[0].isError.set,FERAL_EVAL:r[0].FERAL_EVAL.set,FERAL_FUNCTION:r[0].FERAL_FUNCTION.set}}),e[1]({imports(e){new Map(e)},liveVar:{},onceVar:{}}),e[2]({imports(e){n(new Map(e),"../commons.js",0)},liveVar:{},onceVar:{an:r[2].an.set,bestEffortStringify:r[2].bestEffortStringify.set,enJoin:r[2].enJoin.set}}),e[3]({imports(e){new Map(e)},liveVar:{},onceVar:{}}),e[4]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"./internal-types.js",1),n(t,"./stringify-utils.js",2),n(t,"./types.js",3)},liveVar:{},onceVar:{unredactedDetails:r[4].unredactedDetails.set,loggedErrorHandler:r[4].loggedErrorHandler.set,makeAssert:r[4].makeAssert.set,assert:r[4].assert.set}}),e[5]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{makeEvaluateFactory:r[5].makeEvaluateFactory.set}}),e[6]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{isValidIdentifierName:r[6].isValidIdentifierName.set,getScopeConstants:r[6].getScopeConstants.set}}),e[7]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{createScopeHandler:r[7].createScopeHandler.set}}),e[8]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{getSourceURL:r[8].getSourceURL.set}}),e[9]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./get-source-url.js",8)},liveVar:{},onceVar:{rejectHtmlComments:r[9].rejectHtmlComments.set,evadeHtmlCommentTest:r[9].evadeHtmlCommentTest.set,rejectImportExpressions:r[9].rejectImportExpressions.set,evadeImportExpressionTest:r[9].evadeImportExpressionTest.set,rejectSomeDirectEvalExpressions:r[9].rejectSomeDirectEvalExpressions.set,mandatoryTransforms:r[9].mandatoryTransforms.set,applyTransforms:r[9].applyTransforms.set}}),e[10]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4),n(t,"./make-evaluate-factory.js",5),n(t,"./scope-constants.js",6),n(t,"./scope-handler.js",7),n(t,"./transforms.js",9)},liveVar:{},onceVar:{makeSafeEvaluator:r[10].makeSafeEvaluator.set}}),e[11]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./make-safe-evaluator.js",10),n(t,"./transforms.js",9)},liveVar:{},onceVar:{provideCompartmentEvaluator:r[11].provideCompartmentEvaluator.set,compartmentEvaluate:r[11].compartmentEvaluate.set}}),e[12]({imports(e){new Map(e)},liveVar:{},onceVar:{makeEvalFunction:r[12].makeEvalFunction.set}}),e[13]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{makeFunctionConstructor:r[13].makeFunctionConstructor.set}}),e[14]({imports(e){new Map(e)},liveVar:{},onceVar:{constantProperties:r[14].constantProperties.set,universalPropertyNames:r[14].universalPropertyNames.set,initialGlobalPropertyNames:r[14].initialGlobalPropertyNames.set,sharedGlobalPropertyNames:r[14].sharedGlobalPropertyNames.set,uniqueGlobalPropertyNames:r[14].uniqueGlobalPropertyNames.set,NativeErrors:r[14].NativeErrors.set,FunctionInstance:r[14].FunctionInstance.set,isAccessorPermit:r[14].isAccessorPermit.set,whitelist:r[14].whitelist.set}}),e[15]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./make-eval-function.js",12),n(t,"./make-function-constructor.js",13),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{setGlobalObjectConstantProperties:r[15].setGlobalObjectConstantProperties.set,setGlobalObjectMutableProperties:r[15].setGlobalObjectMutableProperties.set}}),e[16]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{makeAlias:r[16].makeAlias.set,load:r[16].load.set}}),e[17]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4),n(t,"./module-load.js",16)},liveVar:{},onceVar:{deferExports:r[17].deferExports.set,getDeferredExports:r[17].getDeferredExports.set}}),e[18]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-evaluate.js",11),n(t,"./error/assert.js",4),n(t,"./module-proxy.js",17)},liveVar:{},onceVar:{makeThirdPartyModuleInstance:r[18].makeThirdPartyModuleInstance.set,makeModuleInstance:r[18].makeModuleInstance.set}}),e[19]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4),n(t,"./module-instance.js",18)},liveVar:{},onceVar:{link:r[19].link.set,instantiate:r[19].instantiate.set}}),e[20]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-evaluate.js",11),n(t,"./error/assert.js",4),n(t,"./global-object.js",15),n(t,"./make-safe-evaluator.js",10),n(t,"./module-link.js",19),n(t,"./module-load.js",16),n(t,"./module-proxy.js",17),n(t,"./scope-constants.js",6),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{InertCompartment:r[20].InertCompartment.set,CompartmentPrototype:r[20].CompartmentPrototype.set,makeCompartmentConstructor:r[20].makeCompartmentConstructor.set}}),e[21]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{makeIntrinsicsCollector:r[21].makeIntrinsicsCollector.set,getGlobalIntrinsics:r[21].getGlobalIntrinsics.set}}),e[22]({imports(e){new Map(e)},liveVar:{},onceVar:{minEnablements:r[22].minEnablements.set,moderateEnablements:r[22].moderateEnablements.set,severeEnablements:r[22].severeEnablements.set}}),e[23]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./enablements.js",22)},liveVar:{},onceVar:{default:r[23].default.set}}),e[24]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{makeEnvironmentCaptor:r[24].makeEnvironmentCaptor.set}}),e[25]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"./internal-types.js",1),n(t,"./types.js",3)},liveVar:{},onceVar:{makeLoggingConsoleKit:r[25].makeLoggingConsoleKit.set,makeCausalConsole:r[25].makeCausalConsole.set,filterConsole:r[25].filterConsole.set,consoleWhitelist:r[25].consoleWhitelist.set,BASE_CONSOLE_LEVEL:r[25].BASE_CONSOLE_LEVEL.set}}),e[26]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"./assert.js",4),n(t,"./console.js",25),n(t,"./internal-types.js",1),n(t,"./types.js",3)},liveVar:{},onceVar:{tameConsole:r[26].tameConsole.set}}),e[27]({imports(e){n(new Map(e),"../commons.js",0)},liveVar:{},onceVar:{filterFileName:r[27].filterFileName.set,shortenCallSiteString:r[27].shortenCallSiteString.set,tameV8ErrorConstructor:r[27].tameV8ErrorConstructor.set}}),e[28]({imports(e){const t=new Map(e);n(t,"../commons.js",0),n(t,"../whitelist.js",14),n(t,"./tame-v8-error-constructor.js",27)},liveVar:{},onceVar:{default:r[28].default.set}}),e[29]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-shim.js",20)},liveVar:{},onceVar:{getAnonymousIntrinsics:r[29].getAnonymousIntrinsics.set}}),e[30]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{makeHardener:r[30].makeHardener.set}}),e[31]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[31].default.set}}),e[32]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{tameDomains:r[32].tameDomains.set}}),e[33]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[33].default.set}}),e[34]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{tameFunctionToString:r[34].tameFunctionToString.set}}),e[35]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./error/assert.js",4)},liveVar:{},onceVar:{default:r[35].default.set}}),e[36]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[36].default.set}}),e[37]({imports(e){n(new Map(e),"./commons.js",0)},liveVar:{},onceVar:{default:r[37].default.set}}),e[38]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{default:r[38].default.set}}),e[39]({imports(e){const t=new Map(e);n(t,"./commons.js",0),n(t,"./compartment-shim.js",20),n(t,"./enable-property-overrides.js",23),n(t,"./environment-options.js",24),n(t,"./error/assert.js",4),n(t,"./error/stringify-utils.js",2),n(t,"./error/tame-console.js",26),n(t,"./error/tame-error-constructor.js",28),n(t,"./get-anonymous-intrinsics.js",29),n(t,"./global-object.js",15),n(t,"./intrinsics.js",21),n(t,"./make-hardener.js",30),n(t,"./make-safe-evaluator.js",10),n(t,"./tame-date-constructor.js",31),n(t,"./tame-domains.js",32),n(t,"./tame-function-constructors.js",33),n(t,"./tame-function-tostring.js",34),n(t,"./tame-locale-methods.js",35),n(t,"./tame-math-object.js",36),n(t,"./tame-regexp-constructor.js",37),n(t,"./whitelist-intrinsics.js",38),n(t,"./whitelist.js",14)},liveVar:{},onceVar:{repairIntrinsics:r[39].repairIntrinsics.set,lockdown:r[39].lockdown.set}}),e[40]({imports(e){const t=new Map(e);n(t,"./src/commons.js",0),n(t,"./src/compartment-shim.js",20),n(t,"./src/error/assert.js",4),n(t,"./src/intrinsics.js",21),n(t,"./src/lockdown-shim.js",39),n(t,"./src/tame-function-tostring.js",34)},liveVar:{},onceVar:{}})})();